@model CwcExim.Areas.Export.Models.Dnd_StuffingRequest
<div class="container-fluid">
    <div class="row">
        <div class="col-md-offset-0-5 col-md-11">
            <div class="Head_h4">
                <div class="row ">
                    <div class="col-md-12">
                        <h4>Stuffing Request</h4>
                    </div>
                </div>
                <div class="row Form_Space_top">
                    <div class="form-group Form_Input">
                        <div class="col-md-1-5 col_cus_2">
                            <label>Request No:</label>
                        </div>
                        <div class="col-md-2-5">
                            @Html.TextBoxFor(m => m.StuffingReqNo, new { @class = "form-control input-sm", @readonly = true })
                        </div>
                        <div class="col-md-1-5 col-md-offset-4 col_cus_offset_3 col_cus_2">
                            <label>Request Date:</label>
                        </div>
                        <div class="col-md-2 col_cus_2_5">
                            @Html.TextBoxFor(m => m.RequestDate, new { @class = "form-control input-sm", @readonly = true })
                        </div>
                    </div>
                </div>
                <div class="row Form_Space_top" style="display:none">
                    <div class="form-group Form_Input">
                        <div class="col-md-1-5 col_cus_2" style="padding-right:0px">
                            @Html.LabelFor(m => m.CHA, new { @class = "InputLabel" })<span class="LabelColon">:</span>
                        </div>
                        <div class="col-md-10-5 col_cus_10">
                            @Html.TextBoxFor(m => m.CHA, new { @class = "form-control input-sm", @readonly = true })
                        </div>
                    </div>
                </div>

                <div class="row Form_Space_top">
                    <div class="form-group Form_Input">
                        <div class="col-md-1-5 col_cus_2">
                            @Html.LabelFor(m => m.ShippingHdrLine, new { @class = "InputLabel" })<span class="LabelColon">:</span>
                        </div>
                        <div class="col-md-10-5 col_cus_10">
                            <span class="ReQSimbol"></span>
                            @Html.TextBoxFor(m => m.ShippingHdrLine, new { @class = "form-control input-sm", @readonly = "readonly" })

                            @Html.HiddenFor(m => m.ShippingHdrLineId)

                        </div>
                    </div>
                </div>

                <div class="row Form_Space_top">
                    <div class="form-group Form_Input">
                        <div class="col-md-1-5 col_cus_2">
                            @Html.LabelFor(m => m.Forwarder, new { @class = "InputLabel" })<span class="LabelColon">:</span>
                        </div>
                        <div class="col-md-10-5 col_cus_10">
                            <span class="ReQSimbol"></span>
                            @Html.TextBoxFor(m => m.Forwarder, new { @class = "form-control input-sm", @readonly = "readonly" })

                            @Html.HiddenFor(m => m.ForwarderId)

                        </div>
                    </div>
                </div>

                <div class="row Form_Space_top">
                    <div class="form-group Form_Input">
                        <div class="col-md-1-5 col_cus_2">
                            @Html.LabelFor(m => m.Mainline, new { @class = "InputLabel" })<span class="LabelColon">:</span>
                        </div>
                        <div class="col-md-10-5 col_cus_10">
                            <span class="ReQSimbol"></span>
                            @Html.TextBoxFor(m => m.Mainline, new { @class = "form-control input-sm", @readonly = "readonly" })

                            @Html.HiddenFor(m => m.MainlineId)

                        </div>
                    </div>
                </div>

                <div class="row Form_Space_top">
                    <div class="form-group Form_Input">
                        <div class="col-md-1-5 col_cus_2">
                            @Html.LabelFor(m => m.Remarks, new { @class = "InputLabel" })<span class="LabelColon">:</span>
                        </div>
                        <div class="col-md-10-5 col_cus_10">
                            @Html.TextAreaFor(m => m.Remarks, new { @style = "width:100%;height:100px", @readonly = true })
                        </div>
                    </div>
                </div>
                <div class="row Form_Space_top">
                    <div class="form-group Form_Input">
                        <div class="col-md-1-5 col_cus_2">
                            <label>Stuffing Type:</label>
                        </div>
                        <div class="col-md-1 padding_rt">
                            <div class="boolean-container">
                                @Html.RadioButtonFor(m => m.StuffingType, "FCL", new { @class = "", @id = "FCL", @disabled = true })
                                <label for="FCL"><i class="circle"></i><span>FCL</span></label>
                            </div>
                        </div>
                        <div class="col-md-1 padding_rt">
                            <div class="boolean-container">
                                @Html.RadioButtonFor(m => m.StuffingType, "LCL", new { @class = "", @id = "LCL", @disabled = true })
                                <label for="LCL"><i class="circle"></i><span>LCL</span></label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row Form_Space_top">
                    <div class="form-group Form_Input">
                        <div class="col-md-1-5 col_cus_2">
                            <label>Foreign liner:</label>
                        </div>
                        <div class="col-md-4-5">
                            @Html.TextBoxFor(m => m.ForeignLiner)

                        </div>
                        <div class="col-md-1-5 col-md-offset-2 col_cus_offset_3 col_cus_2">
                            <label>Vessel:</label>
                        </div>
                        <div class="col-md-2-5 col_cus_2_5">
                            <span class="ReQSimbol"></span>
                            @Html.TextBoxFor(m => m.Vessel, new { @readonly = "readonly" })
                        </div>
                    </div>
                </div>

                <div class="row Form_Space_top">
                    <div class="form-group Form_Input">
                        <div class="col-md-1-5 col_cus_2">
                            <label>Port Of Loading :</label>
                        </div>
                        <div class="col-md-2-5">
                            @Html.TextBoxFor(m => m.PortName, new { @readonly = true })
                            @Html.HiddenFor(m => m.PortId)
                        </div>
                        <div class="col-md-1-5 col_cus_2 col-md-offset-4">
                            <label>Port of Destination:</label>
                        </div>
                        <div class="col-md-2-5">
                            <span class="ReQSimbol">*</span>
                            @Html.TextBoxFor(m => m.POD, new { @class = "form-control input_sm" })
                            @Html.ValidationMessageFor(m => m.POD, "", new { @class = "Error_Msg" })
                        </div>
                    </div>
                </div>

                <div class="row Form_Space_top">
                    <div class="form-group Form_Input">
                        <div class="col-md-1-5 col_cus_2">
                            <label>Via :</label>
                        </div>
                        <div class="col-md-2-5">
                            @Html.TextBoxFor(m => m.Via, new { @readonly = "readonly" })
                        </div>
                        <div class="col-md-1-5 col_cus_2 col-md-offset-4">
                            <label>Movement:</label>
                        </div>
                        <div class="col-md-2-5">
                            <span class="ReQSimbol"></span>
                            @Html.DropDownListFor(m => m.Movement, new List<SelectListItem> { new SelectListItem { Text = "CWC", Value = "1" }, new SelectListItem { Text = "Own Transport (FR)", Value = "2" } }, "----Select----", new { @disabled = true })
                        </div>
                    </div>
                </div>

                @*<div class="row Form_Space_top">
                    <div class="form-group Form_Input">
                        <div class="col-md-1-5 col_cus_2">
                            <label>Via :</label>
                        </div>
                        <div class="col-md-4-5">
                            @Html.TextBoxFor(m => m.Via, new { @readonly = "readonly" })

                        </div>
                        <div class="col-md-1-5 col-md-offset-2 col_cus_offset_3 col_cus_2">
                            <label>Voyage:</label>
                        </div>
                        <div class="col-md-2 col_cus_2_5">
                            <span class="ReQSimbol"></span>
                            @Html.TextBoxFor(m => m.Voyage, new { @readonly = "readonly" })
                        </div>
                    </div>
                </div>
                <div class="row Form_Space_top">
                    <div class="form-group Form_Input">
                        <div class="col-md-1-5 col_cus_2">
                            <label>Port Of Loading:</label>
                        </div>
                        <div class="col-md-4-5">
                            @Html.TextBoxFor(m => m.PortName, new { @readonly = true })
                            @Html.HiddenFor(m => m.PortId)
                        </div>
                        <div class="col-md-1-5 col-md-offset-2 col_cus_offset_3 col_cus_2">
                            <label>Distance:</label>
                        </div>
                        <div class="col-md-2 col_cus_2_5">
                            <span class="ReQSimbol"></span>
                            @Html.TextBoxFor(m => m.Distance, new { @readonly = true })
                        </div>
                    </div>
                </div>
                <div class="row Form_Space_top">
                    <div class="form-group Form_Input">
                        <div class="col-md-1-5 col_cus_2">
                            <label>Movement:</label>
                        </div>
                        <div class="col-md-2-5">
                            <span class="ReQSimbol"></span>
                            @Html.DropDownListFor(m => m.Movement, new List<SelectListItem> { new SelectListItem { Text = "CWC", Value = "1" }, new SelectListItem { Text = "Own Transport (FR)", Value = "2" } }, "----Select----", new { @disabled = true })
                        </div>
                        <div class="col-md-1-5 col-md-offset-4 col_cus_offset_3 col_cus_2">
                            <label>Type Of Trip:</label>
                        </div>
                        <div class="col-md-2 col_cus_2_5 Date_Img">
                            <span class="ReQSimbol"></span>
                            @Html.DropDownListFor(m => m.TypeOfTrip, new List<SelectListItem> { new SelectListItem { Text = "Single", Value = "1" }, new SelectListItem { Text = "Round", Value = "2" } }, "----Select----", new { @disabled = true })
                        </div>
                    </div>
                </div>
                <div class="row Form_Space_top">
                    <div class="form-group Form_Input">
                        <div class="col-md-1-5 col_cus_2">
                            <label>City:</label>
                        </div>
                        <div class="col-md-4-5">
                            @Html.TextBoxFor(m => m.CityName, new { @readonly = true })
                            @Html.HiddenFor(m => m.CityId)
                        </div>

                        <div class="col-md-1-5 col_cus_2 col-md-offset-2">
                            <label>Port of Destination::</label>
                        </div>
                        <div class="col-md-2">
                            <span class="ReQSimbol">*</span>
                            @Html.TextBoxFor(m => m.POD, new { @class = "form-control input_sm" })
                            @Html.ValidationMessageFor(m => m.POD, "", new { @class = "Error_Msg" })
                        </div>
                    </div>
                </div>*@

            <div class="Head_h5">
                <div class="row">
                    <div class="col-md-12">
                        <h5>Stuffing Details</h5>
                    </div>
                </div>
                <div class="row Form_Space_top">
                    <div class="form-group Form_Input">
                        <div class="col-md-1-5 col_cus_2">
                            <label>Carting No:</label>
                        </div>
                        <div class="col-md-2-5">
                            @Html.TextBoxFor(m => m.CartingRegisterNo, new { @class = "form-control input-sm", @readonly = true })
                        </div>
                    </div>
                </div>
                <div id="DivCartingDetails">
                    @Html.Hidden("CartingRegisterDtlId")
                    <div class="row Form_Space_top">
                        <div class="form-group Form_Input">
                            <div class="col-md-1-5 col_cus_2 padding_rt">
                                <label>Shipping Bill No:</label>
                            </div>
                            <div class="col-md-2-5">
                                @Html.TextBox("ShippingBillNo", "", new { @class = "form-control input-sm", @readonly = true })
                            </div>
                            <div class="col-md-1-5 col_cus_2 col-md-offset-4">
                                <label>Shipping Bill Date:</label>
                            </div>
                            <div class="col-md-2-5">
                                @Html.TextBox("ShippingDate", "", new { @class = "form-control input-sm", @readonly = true })
                            </div>
                        </div>
                    </div>
                    <div class="row Form_Space_top">
                        <div class="form-group Form_Input">
                            <div class="col-md-1-5 col_cus_2">
                                <label>Exporter:</label>
                            </div>
                            <div class="col-md-10-5 col_cus_10">
                                @Html.TextBox("ExporterName", "", new { @class = "form-control input-sm", @readonly = true })
                            </div>
                        </div>
                    </div>
                    <div class="row Form_Space_top">
                        <div class="form-group Form_Input">
                            <div class="col-md-1-5 col_cus_2">
                                <label>CHA:</label>
                            </div>
                            <div class="col-md-10-5 col_cus_10">
                                @Html.TextBox("CHAName", "", new { @class = "form-control input-sm", @readonly = true })
                            </div>
                        </div>
                    </div>


                    <div class="row Form_Space_top">
                        <div class="form-group Form_Input">
                            <div class="col-md-1-5 col_cus_2 padding_rt">
                                <label>Cargo Description:</label>
                            </div>
                            <div class="col-md-10-5 col_cus_10">
                                @Html.TextArea("CargoDescription", new { @style = "width:100%;height:100px;", @readonly = true })
                            </div>
                        </div>
                    </div>
                    <div class="row Form_Space_top">
                        <div class="form-group Form_Input">
                            <div class="col-md-1-5 col_cus_2">
                                <label>Cargo Type:</label>
                            </div>
                            <div class="col-md-2-5">
                                @Html.TextBox("CargoType", "", new { @class = "form-control input-sm", @readonly = true })
                            </div>
                        </div>
                    </div>
                    <div class="row Form_Space_top">
                        <div class="form-group Form_Input">
                            <div class="col-md-1-5 col_cus_2">
                                <label>No of Units:</label>
                            </div>
                            <div class="col-md-2-5">
                                @Html.TextBox("NoOfUnits", "", new { @class = "form-control input-sm", @readonly = true })
                            </div>
                            <div class="col-md-1-5 col-md-offset-4 col_cus_offset_3 col_cus_2">
                                <label>Gross Weight (Kg):</label>
                            </div>
                            <div class="col-md-2-5">
                                @Html.TextBox("GrossWeight", "", new { @class = "form-control input-sm", @readonly = true })
                            </div>
                            <input type="hidden" name="cominv" id="cominv">
                        </div>
                    </div>
                    <div class="row Form_Space_top">
                        <div class="form-group Form_Input">
                            <div class="col-md-1-5 col_cus_2">
                                <label>FOB:</label>
                            </div>
                            <div class="col-md-2-5">
                                @Html.TextBox("Fob", "", new { @class = "form-control input-sm", @readonly = true })
                            </div>

                            @*<div class="col-md-1-5 col-md-offset-4 col_cus_offset_3 col_cus_2">
                                <label>Area:</label>
                            </div>
                            <div class="col-md-2-5">
                                @Html.TextBox("Area", "", new { @class = "form-control input-sm", @readonly = true })
                            </div>*@
                        </div>
                    </div>
                    <div class="row Form_Space_top">
                        <div class="form-group Form_Input">
                            <div class="col-md-1-5 col_cus_2">
                                <label></label>
                            </div>
                            <div class="col-md-2-5">
                                @Html.TextBox("RNoOfUnits", "", new { @class = "form-control input-sm", @readonly = true, style = "display: none;" })
                            </div>
                            <div class="col-md-1-5 col-md-offset-4 col_cus_offset_3 col_cus_2">
                                <label></label>
                            </div>
                            <div class="col-md-2-5">
                                @Html.TextBox("RGrossWeight", "", new { @class = "form-control input-sm", @readonly = true, style = "display: none;" })
                            </div>
                        </div>
                    </div>

                    <div class="row Form_Space_top">
                        <div class="col-md-12">
                            <table id="TblStuffingReq" class="table table-striped table-bordered dataTable nowrap" style="width:100%">
                                <thead>
                                    <tr>
                                        <th class="text-center" style="width:8%;">Sl No</th>
                                        <th>Carting No</th>
                                        <th>Shipping Bill No</th>
                                        <th>Shipping Bill Date</th>
                                        <th>Exporter</th>
                                        <th>CHA</th>
                                        @*<th>Commodity Invoice No</th>*@
                                        <th class="text-center" style="width:10%;">View</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                    <div class="row">
                        <div class="stoke SignUp_space_bottom SignUp_space_top"></div>
                    </div>
                    <div class="row Form_Space_top">
                        <div class="form-group Form_Input">
                            <div class="col-md-1-5 col_cus_2 padding_rt">
                                <label>Container / CBT No:</label>
                            </div>
                            <div class="col-md-2-5">
                                @Html.TextBox("ContainerNo", "", new { @class = "form-control input-sm", @readonly = true })
                            </div>
                            <div class="col-md-1-5">
                                <label>Shipping Bill:</label>
                            </div>
                            <div class="col-md-3-5 col_cus_3">
                                @Html.TextBox("CommodityName", "", new { @class = "form-control input-sm dropdown", @readonly = true })
                            </div>
                            <div class="col-md-1">
                                <label>Size:</label>
                            </div>
                            <div class="col-md-2">
                                @Html.TextBox("Size", "", new { @readonly = true })
                            </div>
                        </div>
                    </div>
                    <div class="row Form_Space_top">
                        <div class="form-group Form_Input">
                            <div class="col-md-1-5 col_cus_2">
                                <label>Container Class:</label>
                            </div>
                            <div class="col-md-2-5">
                                @Html.TextBox("ContClass", "", new { @class = "form-control input-sm", @readonly = true })
                            </div>
                            <div class="col-md-2-5">
                                <div class="boolean-container">
                                    @Html.CheckBox("WithScanning")
                                    <label for="WithScanning"><i class="square"></i><span>With Scanning</span></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row Form_Space_top">
                        <div class="form-group Form_Input">
                            <div class="col-md-1-5 col_cus_2 padding_rt">
                                <label>Shipping Line:</label>
                            </div>
                            <div class="col-md-10-5 col_cus_10">
                                @Html.TextBox("ShippingLine", "", new { @class = "form-control input-sm", @readonly = true })
                            </div>
                        </div>
                    </div>
                    <div class="row Form_Space_top">
                        <div class="form-group Form_Input">
                            <div class="col-md-1-5 col_cus_2">
                                <label>Stuffing Qty:</label>
                            </div>
                            <div class="col-md-2-5">
                                @Html.TextBox("StuffQuantity", "", new { @class = "form-control input-sm", @readonly = true })
                            </div>
                            <div class="col-md-1-5 col-md-offset-4 col_cus_offset_3 col_cus_2">
                                <label>Stuffing Weight (Kg):</label>
                            </div>
                            <div class="col-md-2-5">
                                @Html.TextBox("StuffWeight", "", new { @class = "form-control input-sm", @readonly = true })
                            </div>
                        </div>
                    </div>
                    <div class="row Form_Space_top">
                        <div class="form-group Form_Input">
                            <div class="col-md-1-5 col_cus_2">
                                <label>FOB Value:</label>
                            </div>
                            <div class="col-md-2-5">
                                @Html.TextBox("StuffFOBValue", "", new { @class = "form-control input-sm", @readonly = true })
                            </div>

                            @*<div class="col-md-1-5 col-md-offset-4 col_cus_offset_3 col_cus_2">
                                <label>Stuffing Area:</label>
                            </div>
                            <div class="col-md-2-5">
                                @Html.TextBox("StuffArea", "", new { @class = "form-control input-sm", maxlength = "11" })
                            </div>*@
                          
                        </div>
                    </div>
                    <div class="row Form_Space_top">
                        <div class="col-md-12">
                            <table id="TblStuffingContr" class="table table-striped table-bordered dataTable nowrap" style="width:100%">
                                <thead>
                                    <tr>
                                        <th class="text-center" style="width:8%;">Sl No</th>
                                        <th>Container / CBT No</th>
                                        <th>Size</th>
                                        <th>Commodity</th>
                                        <th>Stuffing Qty</th>
                                        <th class="text-center" style="width:10%;">View</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="stoke SignUp_space_bottom SignUp_space_top"></div>
            </div>

            <div class="row SignUp_space_bottom2">
                <div class="col-md-offset-5 col-md-2" style="text-align:center">
                    <input type="button" value="Back" class="btn log_Btn_sm" id="btnBack" />
                </div>
            </div>

            </div>
        </div>
    </div>
</div>
<script>
    var RequestDet = [];
    var ContainerDet = [];
    $(function () {
        RequestDet=@Html.Raw(Json.Encode(Model.LstStuffing));
        ContainerDet=@Html.Raw(Json.Encode(Model.LstStuffingContainer));
        GenerateTable1();
        GenerateContrTable();
    });
    $('#btnBack').on("click",function()
    {
        $('#DivBody').load( '/Export/Dnd_CWCExport/CreateStuffingRequest');
    });
    function GenerateTable1() {
        var html = '';
        $.each(RequestDet, function (i, elem) {
            html += '<tr><td class="text-center">' + (i + 1) + '</td><td>' + elem.CartingRegisterNo + '</td><td>' + elem.ShippingBillNo + '</td><td>' + elem.ShippingDate + '</td><td>' + elem.Exporter + '</td><td>' + elem.CHA + '</td><td class="text-center"><a href="#" onclick="ViewStuffingReq(' + i + ')"><i class="fa fa-search-plus Edit"></i></a></td></tr>';
        });
        $('#TblStuffingReq > tbody').html('');
        $('#TblStuffingReq > tbody').html(html);
    }
    function GenerateContrTable() {
        debugger;
        var html = '';
        if (ContainerDet.length!=0)
        {
            $.each(ContainerDet, function (i, elem) {
                html += '<tr><td class="text-center">' + (i + 1) + '</td><td>' + elem.ContainerNo + '</td><td>' + elem.Size + '</td><td>' + elem.CommodityName + '</td><td>' + elem.StuffQuantity + '</td><td class="text-center"><a href="#" onclick="ViewContainerDet(' + i + ')"><i class="fa fa-search-plus Edit"></i></a></td></tr>';
            });
            $('#TblStuffingContr > tbody').html('');
            $('#TblStuffingContr > tbody').html(html);
            $('#TblStuffingContr').show();
        }
        else {
            $('#TblStuffingContr').hide();
        }

    }
    function ViewStuffingReq(idx) {
        $('#CartingRegisterNo').val(RequestDet[idx].CartingRegisterNo);
        $('#StuffingReqDtlId').val(RequestDet[idx].StuffingReqDtlId);
        $('#StuffingReqId').val(RequestDet[idx].StuffingReqId);
        $('#CartingRegisterDtlId').val(RequestDet[idx].CartingRegisterDtlId);
        $('#ShippingBillNo').val(RequestDet[idx].ShippingBillNo);
        $('#ShippingDate').val(RequestDet[idx].ShippingDate);
        $('#ExporterId').val(RequestDet[idx].ExporterId);
        $('#ExporterName').val(RequestDet[idx].Exporter);
        $('#CHAName').val(RequestDet[idx].CHA);
        $('#CargoDescription').val(RequestDet[idx].CargoDescription);
        RequestDet[idx].CargoType==1?$('#CargoType').val('HAZ'):$('#CargoType').val('Non HAZ');
        $('#NoOfUnits').val(RequestDet[idx].NoOfUnits);
        $('#GrossWeight').val(RequestDet[idx].GrossWeight);
        $('#FOB').val(RequestDet[idx].FOB);
        $('#RNoOfUnits').val(RequestDet[idx].RQty);
        $('#RGrossWeight').val(RequestDet[idx].RWt);
         $('#StuffFOBValue').val(ContainerDet[idx].StuffFOBValue);
    }
    function ViewContainerDet(idx) {
        debugger;
        $('#CommodityName').val(ContainerDet[idx].CommodityName);
        $('#ContainerNo').val(ContainerDet[idx].ContainerNo);
        $('#Size').val(ContainerDet[idx].Size);
        $('#ShippingLine').val(ContainerDet[idx].ShippingLine);
        $('#StuffQuantity').val(ContainerDet[idx].StuffQuantity);
        $('#StuffWeight').val(ContainerDet[idx].StuffWeight);
        $('#StuffFOBValue').val(ContainerDet[idx].StuffFOBValue);
        $('#ContClass').val(ContainerDet[idx].ContClass);
        ContainerDet[idx].WithScanning == 1 ? $('#WithScanning').prop("checked", true) : $('#WithScanning').prop("checked", false);
    }
</script>