@model CwcExim.Areas.Export.Models.PPG_ContainerStuffing

<script>
    var ArrayOfContainerStuff = [];
    var TimeInSeconds;
    var ArrayOfContainer = [];
    $(function () {
        debugger;
        TimeInSeconds = 5000;
        ArrayOfContainerStuff=@Html.Raw(Json.Encode(Model.LstStuffingDtl));
        GenerateContainerStuffTable();
        $('#BtnPrint').prop("disabled", true);

        var radioValue = $("#TransportMode").val();
        if (radioValue == 2) {
           
            document.getElementById("Road").checked = true;
        }
        else {
           
            document.getElementById("Train").checked = true;
        }
    });

    $('#StuffingDate').datepicker({
        dateFormat: "dd/mm/yy",
        showOn: "button",
        buttonImage: "/Content/images/calendar.png",
        buttonImageOnly: true,
        buttonText: "Select date",
        changeMonth: true,
        changeYear: true,
        showAnima: "fadein",
        onClose: function () {
            $("[data-valmsg-for='StuffingDate']").html('');
        }
    });
    $('#ShippingDate').datepicker({
        dateFormat: "dd/mm/yy",
        showOn: "button",
        buttonImage: "/Content/images/calendar.png",
        buttonImageOnly: true,
        buttonText: "Select date",
        changeMonth: true,
        changeYear: true,
        showAnima: "fadein",
        onClose: function () {
            $("[data-valmsg-for='StuffingDate']").html('');
        }
    });

    function ResetAllFields() {
        ArrayOfContainerStuff = [];
        ArrayOfContainer=[];
        $('#DivEditContainerStuffing').find('input:text,textarea').val('');
        $('#DivEditContainerStuffing #DivContainerStuffingMsg').html('');
        $('#DivEditContainerStuffing #DivContainerStuffingErrMsg').html('');
        $('[data-valmsg-for]').html('<span><span>');
        $('#DivEditContainerStuffing #TblContainerStuffing >tbody').html('');
        $('#TblContainerStuffing').hide();
        $('#DivContainerStuffingMsg').html('');
        $('#DivContainerStuffingErrMsg').html('');
    }

    //function ContainerStuffingOnSuccess(data) {
    //    debugger;
    //    if (data.Status == 1) {
    //        $('#DivContainerStuffingMsg').html(data.Message);
    //        //$('#CartingNoList #' + $('#CartingAppId').val()).remove();
    //        setTimeout(ResetAllFields, TimeInSeconds);
    //        GetContainerStuffList();
    //    }
    //    else {
    //        $('#DivContainerStuffingErrMsg').html(data.Message);
    //    }
    //}


    //$('#SearchReqNo').keyup(function () {
    //    debugger;
    //    var valThis = $(this).val().toLowerCase();
    //    if (valThis == "") {
    //        $('#DivModalStuffingReqNo .navList > li').show();
    //    }
    //    else {
    //        $('#DivModalStuffingReqNo .navList > li').each(function () {
    //            debugger;
    //            var Text = $(this).text().toLowerCase();
    //            (Text.indexOf(valThis) >= 0) ? $(this).show() : $(this).hide();
    //        });
    //    };
    //});
    //$('#LstRequestNo li').on("click", function () {
    //    debugger;
    //    var StuffingReqNo = $(this).text();
    //    var StuffingReqId = $(this).attr('id');
    //    $('#StuffingReqNo').val(StuffingReqNo);
    //    $('#StuffingReqId').val(StuffingReqId);
    //    $('#DivModalStuffingReqNo').modal("hide");
    //    GetContainerNoList(StuffingReqId);
    //   // GetCartingDetails(CartingAppId);
    //});

    $('#ShippingLineBox').keyup(function () {
        var valThis = $(this).val().toLowerCase();
        if (valThis == "") {
            $('#ShippingLineModal .navList > li').show();
        } else {
            $('#ShippingLineModal .navList > li').each(function () {
                var text = $(this).text().toLowerCase();
                (text.indexOf(valThis) >= 0) ? $(this).show() : $(this).hide();
            });
        };
    });
    $('#ShippingLineList li').on("click", function () {
        $('#ShippingLine').val($(this).text());
        $('#ShippingLineId').val($(this).attr('id'));
        $("#ShippingLineModal").modal("hide");
    });

    $('#LstExporter li').on("click", function () {
        debugger;
        $('#Exporter').val($(this).text());
        $('#ExporterId').val($(this).attr('id'));
        $("#ExporterModal").modal("hide");
    });
    $('#SearchExporter').keyup(function () {
        var valThis = $(this).val().toLowerCase();
        if (valThis == "") {
            $('#ExporterModal .navList > li').show();
        } else {
            $('#ExporterModal .navList > li').each(function () {
                var text = $(this).text().toLowerCase();
                (text.indexOf(valThis) >= 0) ? $(this).show() : $(this).hide();
            });
        };
    });

    $('#ListOfCHAHdr li').on("click", function () {
        debugger;
        $('#CHA').val($(this).text());
        $('#CHAId').val($(this).attr('id'));
        $("#CHAHdrModal").modal("hide");
    });
    $('#SearchCHAHdr').keyup(function () {
        var valThis = $(this).val().toLowerCase();
        if (valThis == "") {
            $('#CHAHdrModal .navList > li').show();
        } else {
            $('#CHAHdrModal .navList > li').each(function () {
                var text = $(this).text().toLowerCase();
                (text.indexOf(valThis) >= 0) ? $(this).show() : $(this).hide();
            });
        };
    });

    //$('#ContainerBox').keyup(function () {
    //    var valThis = $(this).val().toLowerCase();
    //    if (valThis == "") {
    //        $('.navList > li').show();
    //    } else {
    //        $('.navList > li').each(function () {
    //            var text = $(this).text().toLowerCase();
    //            (text.indexOf(valThis) >= 0) ? $(this).show() : $(this).hide();
    //        });
    //    };
    //});
    // $('#ContainerList  li').on("click", function () {
    //function FillContainerTxtBox(ContainerNo) {
    //    debugger;
    //    $('#BtnAddContainerStuff').prop("disabled", false);
    //    $('#ContainerNo').val(ContainerNo);
    //    $("#ContainerModal").modal("hide");
    //    GetContainerDet(ContainerNo);
    //}

 //   });

    //function GetContainerNoList(StuffingReqId) {
    //    debugger;
    //    $.ajax({
    //        url: '/Export/CWCExport/GetContainerNoOfStuffingReq',
    //        type: 'GET',
    //        dataType: 'JSON',
    //        data: { StuffingReqId: StuffingReqId},
    //        success: function (data)
    //        {
    //            debugger;
    //            if (data.Status == 1) {
    //                debugger;
    //                var Html = '';
    //                $.each(data.Data, function (i, item) {
    //                    debugger;
    //                    Html += '<li onclick="FillContainerTxtBox(' + item.ContainerNo + ')">' + item.ContainerNo + '</li>'
    //                });
    //                $('#ContainerList').html(Html);
    //            }
    //        }
    //    });
    //}

    //function GetContainerDet(ContainerNo) {
    //    debugger;
    //    var StuffingReqId = $('#StuffingReqId').val();
    //    $.ajax({
    //        url: '/Export/CWCExport/GetContainerDetOfStuffingReq',
    //        type: 'GET',
    //        dataType: 'JSON',
    //        data: { ContainerNo: ContainerNo, StuffingReqId: StuffingReqId },
    //        success: function (data) {
    //            debugger;
    //            if (data.Status == 1)
    //            {
    //                $('#StuffingReqDtlId').val(data.Data.StuffingReqDtlId),
    //                $('#ContainerNo').val(data.Data.ContainerNo),
    //                $('#CFSCode').val(data.Data.CFSCode),
    //                $('#Size').val(data.Data.Size),
    //                $('#ShippingLineId').val(data.Data.ShippingLineId),
    //                $('#ShippingLine').val(data.Data.ShippingLine),
    //                $('#ShippingSeal').val(data.Data.ShippingSeal),
    //                $('#CustomSeal').val(data.Data.CustomSeal),
    //                $('#'+data.Data.StuffingType+'').prop("checked",true);
    //               // $('#'+Data.StuffingType+').val(data.Data.StuffingType),
    //                $('#ShippingBillNo').val(data.Data.ShippingBillNo),
    //                $('#ShippingDate').val(data.Data.ShippingDate),
    //                $('#CHAId').val(data.Data.CHAId),
    //                $('#ExporterId').val(data.Data.ExporterId),
    //                $('#CHA').val(data.Data.CHA),
    //                $('#Exporter').val(data.Data.Exporter),
    //                $('#CargoDescription').val(data.Data.CargoDescription),
    //                //$('#Consignee').val(data.Data.Consignee),
    //                //$('#MarksNo').val() == "" ? 0 : $('#MarksNo').val(data.Data.MarksNo),
    //                 $('#Fob').val(data.Data.Fob),
    //                 $('#StuffQuantity').val(data.Data.StuffQuantity),
    //                 $('#StuffWeight').val(data.Data.StuffWeight),
    //                $('#StuffingReqDtlId').val(data.Data.StuffingReqDtlId),
    //                $('#RequestDate').val(data.Data.RequestDate)
    //                }
    //        }
    //    });
    //}
    var AddStatus = 0;
    function SaveContainerStuffingDtl() {
        debugger;
        $('#DivContainerStuffingTblErrMsg').html('');
        if ($('#ContainerNo').val() != "") {
             var StuffingType=$('#FCL').prop("checked")==true? "FCL" :"LCL"
             var ContainerStuffingDtl = {
            "ContainerNo" : $('#ContainerNo').val(),
            "CFSCode" :$('#CFSCode').val(),
            "Size":$('#Size').val(),
            "ShippingLineId":$('#ShippingLineId').val(),
            "ShippingLine":$('#ShippingLine').val(),
            "ShippingSeal":$('#ShippingSeal').val(),
            "CustomSeal": $('#CustomSeal').val(),
            "StuffingType": StuffingType,
            "ShippingBillNo": $('#ShippingBillNo').val(),
            "ShippingDate": $('#ShippingDate').val(),
            "CHAId":$('#CHAId').val(),
            "ExporterId":$('#ExporterId').val(),
            "CHA": $('#CHA').val(),
            "Exporter": $('#Exporter').val(),
            "CargoDescription": $('#CargoDescription').val(),
            "Consignee": $('#Consignee').val(),
            "MarksNo": $('#MarksNo').val() == "" ? 0 : $('#MarksNo').val(),
            "Fob": $('#Fob').val() == "" ? 0 : $('#Fob').val(),
            "StuffQuantity": $('#StuffQuantity').val() == "" ? 0 : $('#StuffQuantity').val(),
            "StuffWeight": $('#StuffWeight').val() == "" ? 0 : $('#StuffWeight').val(),
            "StuffingReqDtlId": $('#StuffingReqDtlId').val(),
            "Insured": $('#Insured').is(':checked') == true ? 1 : 0,
            "ContainerStuffingDtlId": $('#ContainerStuffingDtlId').val()
        }
        ArrayOfContainerStuff.push(ContainerStuffingDtl);
        //$('#ContainerList #' + $('#ContainerNo').val()).remove();
        ResetConatinerStuffDet();
        GenerateContainerStuffTable();
        $('#BtnAddContainerStuff').prop("disabled", true);
        }
        else {
            $('#DivContainerStuffingTblErrMsg').html('Please Select A Container No In Order To Add Details');
            // $('[data-valmsg-for="ContainerNo"]').html('<span>Fill Out This Field</span>');
        }
        AddStatus = 1;
    }

    function ResetConatinerStuffDet() {
        debugger;
        var POD = $('#POD').val();
        $('#DivContainerStuffingDetails').find('input:text,textarea').val('');
        $('#DivEditContainerStuffing #Size').val('');
        $('#FCL').prop("checked", false);
        $('#LCL').prop("checked", false);
        $('#DivContainerStuffingDetails #Insured').prop("checked", false);
        $('#DivContainerNo').find('input:text').val('');
        $('#DivContainerSize').find('input:text').val('');
        $('#DivShippingLine').find('input:text').val('');
        $('#DivShippingSeal').find('input:text').val('');
        $('#SearchContainerNo').css("display", "none");
        $('#POD').val(POD);
    }
    
    
    function GenerateContainerStuffTable() {
        debugger;
        $('#TblContainerStuffing').hide();
        var Html = '';
        ArrayOfContainer=[];
        if (ArrayOfContainerStuff.length != 0) {
            $.each(ArrayOfContainerStuff, function (i, item) {
                debugger;
                Html += '<tr><td class="text-center">' + (i + 1) + '</td><td>' + item.ContainerNo + '</td><td>' + item.ShippingBillNo + '</td><td>' + item.ShippingDate + '</td><td>' + item.Exporter + '</td><td>' + item.StuffQuantity + '</td><td>' + item.StuffWeight + '</td><td class="text-center"><a href="#" onclick="EditContainerStuff(' + i + ')"><i class="fa fa fa-pencil-square Edit" aria-hidden="true"></i></a></td><td class="text-center"><a href="#" onclick="ViewContainerStuff(' + i + ')"><i class="fa fa-search-plus Edit" aria-hidden="true"></i></a></td></tr>';
                //if(ArrayOfContainer.length !=0){
                    var ContainerDtl = {
                        "ContainerNo": item.ContainerNo,
                        "CFSCode": item.CFSCode,
                        "Size": item.Size,
                        "Fob": item.Fob,
                        "StuffingReqId": $('#StuffingReqId').val(),
                        "StuffWeight": item.StuffWeight,
                        "Insured": item.Insured
                    };
                    ArrayOfContainer.push(ContainerDtl);
               //}
            });

           
            $('#TblContainerStuffing>tbody').html(Html);
            $('#TblContainerStuffing').show();
        }
    }
    var EditStatus = 0;
    function EditContainerStuff(Index) {
        debugger;
        if ($('#BtnAddContainerStuff').prop("disabled") == true) {
            $('#DivContainerStuffingTblErrMsg').html('');
            $('#SearchContainerNo').css("display", "block");
            $('#BtnAddContainerStuff').prop("disabled", false);
            $('#ContainerNo').val(ArrayOfContainerStuff[Index].ContainerNo);
            $('#CFSCode').val(ArrayOfContainerStuff[Index].CFSCode);
            $('#Size').val(ArrayOfContainerStuff[Index].Size);
            $('#ShippingLineId').val(ArrayOfContainerStuff[Index].ShippingLineId);
            $('#ShippingLine').val(ArrayOfContainerStuff[Index].ShippingLine);
            $('#ShippingSeal').val(ArrayOfContainerStuff[Index].ShippingSeal);
            $('#CustomSeal').val(ArrayOfContainerStuff[Index].CustomSeal);
            $('#' + ArrayOfContainerStuff[Index].StuffingType + '').prop("checked", true);
            $('#ShippingBillNo').val(ArrayOfContainerStuff[Index].ShippingBillNo);
            $('#ShippingDate').val(ArrayOfContainerStuff[Index].ShippingDate);
            $('#CHAId').val(ArrayOfContainerStuff[Index].CHAId);
            $('#ExporterId').val(ArrayOfContainerStuff[Index].ExporterId);
            $('#CHA').val(ArrayOfContainerStuff[Index].CHA);
            $('#Exporter').val(ArrayOfContainerStuff[Index].Exporter);
            $('#CargoDescription').val(ArrayOfContainerStuff[Index].CargoDescription);
            $('#Consignee').val(ArrayOfContainerStuff[Index].Consignee);
            $('#MarksNo').val(ArrayOfContainerStuff[Index].MarksNo);
            $('#Fob').val(ArrayOfContainerStuff[Index].Fob);
            $('#StuffQuantity').val(ArrayOfContainerStuff[Index].StuffQuantity);
            $('#StuffWeight').val(ArrayOfContainerStuff[Index].StuffWeight);
            $('#StuffingReqDtlId').val(ArrayOfContainerStuff[Index].StuffingReqDtlId);
            ArrayOfContainer.splice(Index, 1);
            ArrayOfContainerStuff[Index].Insured == 1 ? $('#Insured').prop("checked", true) : $('#Insured').prop("checked", false);
            $('#ContainerStuffingDtlId').val(ArrayOfContainerStuff[Index].ContainerStuffingDtlId);
            ArrayOfContainerStuff.splice(Index, 1);
            
            GenerateContainerStuffTable();
            //InvoiceNoGRE=data.Data.invoicenoGRE;
            //InvoiceNoINS=data.Data.invoicenoINS;
            //InvoiceNoSTO=data.Data.invoicenoSTO;
            //InvoiceNoHND=data.Data.invoicenoHND;
            EditStatus = 1;
        }
        else {
            $('#DivContainerStuffingTblErrMsg').html('Please Add The Above Records');
        }

    }

    //function DeleteContainerStuff(Index) {
    //    debugger;
    //    ArrayOfContainerStuff.splice(Index, 1);
    //    GenerateContainerStuffTable();
    //}

    function ViewContainerStuff(Index) {
        debugger;
        if ($('#BtnAddContainerStuff').prop("disabled") == true)
        {
            $('#DivContainerStuffingTblErrMsg').html('');
            $('#BtnAddContainerStuff').prop("disabled", true);
            // if ($('#DivShippingDetails #Exporter').val() == '' || $('#DivShippingDetails #Exporter').prop("disabled") == true) {
            //$('#DivShippingDetails').find('input').prop("disabled", true);
            $('#SearchContainerNo').css("display", "none");
            $('#ContainerNo').val(ArrayOfContainerStuff[Index].ContainerNo);
            $('#CFSCode').val(ArrayOfContainerStuff[Index].CFSCode);
            $('#Size').val(ArrayOfContainerStuff[Index].Size);
            $('#ShippingLineId').val(ArrayOfContainerStuff[Index].ShippingLineId);
            $('#ShippingLine').val(ArrayOfContainerStuff[Index].ShippingLine);
            $('#ShippingSeal').val(ArrayOfContainerStuff[Index].ShippingSeal);
            $('#CustomSeal').val(ArrayOfContainerStuff[Index].CustomSeal);
            $('#' + ArrayOfContainerStuff[Index].StuffingType + '').prop("checked", true);
            // $('#StuffingType').val(ArrayOfCartingRegDtl[Index].StuffingType);
            $('#ShippingBillNo').val(ArrayOfContainerStuff[Index].ShippingBillNo);
            $('#ShippingDate').val(ArrayOfContainerStuff[Index].ShippingDate);
            $('#CHAId').val(ArrayOfContainerStuff[Index].CHAId);
            $('#ExporterId').val(ArrayOfContainerStuff[Index].ExporterId);
            $('#CHA').val(ArrayOfContainerStuff[Index].CHA);
            $('#Exporter').val(ArrayOfContainerStuff[Index].Exporter);
            $('#CargoDescription').val(ArrayOfContainerStuff[Index].CargoDescription);
            $('#Consignee').val(ArrayOfContainerStuff[Index].Consignee);
            $('#MarksNo').val(ArrayOfContainerStuff[Index].MarksNo);
            $('#Fob').val(ArrayOfContainerStuff[Index].Fob);
            $('#StuffQuantity').val(ArrayOfContainerStuff[Index].StuffQuantity);
            $('#StuffWeight').val(ArrayOfContainerStuff[Index].StuffWeight);
            $('#StuffingReqDtlId').val(ArrayOfContainerStuff[Index].StuffingReqDtlId);
            $('#ContainerStuffingDtlId').val(ArrayOfContainerStuff[Index].ContainerStuffingDtlId);
            // $('#Insured').val(ArrayOfContainerStuff[Index].Insured);
            ArrayOfContainerStuff[Index].Insured == 1 ? $('#Insured').prop("checked", true) : $('#Insured').prop("checked", false);
        }
        else{
            $('#DivContainerStuffingTblErrMsg').html('Please Add The Above Records');
        }

    }

    $('#BtnSaveContainerStuff').on("click", function () {
        debugger;
        if (AddStatus != EditStatus) {
            alert('Please click on add button to save the record');
            return false;
        }
        if (AddStatus == EditStatus) {
            AddStatus = 0;
            EditStatus = 0;
        }
        var Radio = $('input[name=Mode]:checked').val();
        if (Radio == "By Road") {
            $('#TransportMode').val(2);
            //document.getElementById("Road").checked = true;
        }
        else {
            $('#TransportMode').val(1);
            //document.getElementById("Train").checked = true;
        }

        $('#DivContainerStuffingTblErrMsg').html('');
        if ($('#ContainerNo').val() == "" && $('#TblContainerStuffing >tbody').html()!="") {
            if (ArrayOfContainerStuff.length != 0) {
                $('#StuffingXML').val(JSON.stringify(ArrayOfContainerStuff));
            }
        }
        else if($('#ContainerNo').val() != "" && $('#BtnAddContainerStuff').prop("disabled")==true){
            if (ArrayOfContainerStuff.length != 0) {
                $('#StuffingXML').val(JSON.stringify(ArrayOfContainerStuff));
            }
        }
        else {
            $('#DivContainerStuffingTblErrMsg').html('Please Add The Above Records');
            return false;
        }

    });

    function ContainerStuffingOnSuccess(data) {
        if (data.Status == 1) {
            $('#DivContainerStuffingMsg').html(data.Message);
            //setTimeout(GetContainerStuffList, TimeInSeconds);
            $('#BtnPrint').prop("disabled",false);
            $('#BtnSaveContainerStuff').prop("disabled", true);
        }
        else {
            $('#DivContainerStuffingErrMsg').html(data.Message);
        }
    }

    function ContainerStuffingOnFailure() { }
    function LoadContainerStuffing() {
        $('#DivBody').load( '/Export/Loni_CWCExport/CreateContainerStuffing');
    }
    function TransPortModeFunc()
    {
        debugger;
        var Radio = $('input[name=Mode]:checked').val();
        if (Radio == "By Road")
        {
            $('#TransportMode').val(2);
            document.getElementById("Road").checked = true;
        }
        else
        {
            $('#TransportMode').val(1);
            document.getElementById("Train").checked = true;
        }
    }
</script>

@{
    AjaxOptions options = new AjaxOptions();
    options.Confirm = "Are You Sure You Want To Save?";
    options.OnSuccess = "ContainerStuffingOnSuccess";
    options.OnFailure = "ContainerStuffingOnFailure";
    options.InsertionMode = InsertionMode.InsertAfter;
}
<div class="container-fluid">
    <div style="width:90%;margin-left:auto;margin-right:auto;">
        <div class="row clearfix">
            @using (Ajax.BeginForm("AddEditContainerStuffingDet", "Loni_CWCExport", options))
            {
                @Html.AntiForgeryToken()

                <div class="panel with-nav-tabs panel-primary cwc_panel">
                    <div class="panel-heading cwc_panel_heading">
                        <ul class="nav nav-tabs" id="DivTabs">
                            <li class="active"><a href="#DivContainerStuffing" data-toggle="tab">Container Stuffing</a></li>
                            <li><a href="#DivInvoice" data-toggle="tab">Invoice</a></li>
                        </ul>
                    </div>
                    @Html.HiddenFor(m => m.GREOperationCFSCodeWiseAmt)
                    @Html.HiddenFor(m => m.GREContainerWiseAmt)
                    @Html.HiddenFor(m => m.INSOperationCFSCodeWiseAmt)
                    @Html.HiddenFor(m => m.INSContainerWiseAmt)
                    @Html.HiddenFor(m => m.STOinvoicecargodtl)
                    @Html.HiddenFor(m => m.STOOperationCFSCodeWiseAmt)
                    @Html.HiddenFor(m => m.HNDOperationCFSCodeWiseAmt)
                    @Html.HiddenFor(m => m.GENSPOperationCFSCodeWiseAmt)
                    <div class="panel-body">
                        <div class="tab-content">
                            <div class="tab-pane fade in active" id="DivContainerStuffing">
                                <div class="Head_h4">
                                        <div id="DivEditContainerStuffing">
                                            @Html.HiddenFor(m => m.StuffingReqId)
                                            @Html.HiddenFor(m => m.StuffingXML)
                                            @Html.Hidden("StuffingReqDtlId")
                                            @Html.Hidden("ContainerStuffingDtlId")
                                            @Html.HiddenFor(m => m.ContainerStuffingId)
                                            @Html.HiddenFor(m => m.TransportMode)
                                            <div class="row Form_Space_top">
                                                <div class="form-group Form_Input">
                                                    <div class="col-md-1-5 col_cus_2">
                                                        <label>Transport Mode:</label>
                                                    </div>
                                                    <div class="col-md-1-5">
                                                        <div class="boolean-container">
                                                            @Html.RadioButton("Mode", "By Train", new { @id = "Train", @checked = true, @onclick = "TransPortModeFunc();" })
                                                            <label for="Train"><i class="circle"></i><span>By Train</span></label>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-1-5">
                                                        <div class="boolean-container">
                                                            @Html.RadioButton("Mode", "By Road", new { @id = "Road", @onclick = "TransPortModeFunc();" })
                                                            <label for="Road"><i class="circle"></i><span>By Road</span></label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row Form_Space_top">
                                                <div class="form-group Form_Input">
                                                    <div class="col-md-1-5 col_cus_2">
                                                        <label>Request No:</label>
                                                    </div>
                                                    <div class="col-md-2-5">
                                                        @Html.TextBoxFor(m => m.StuffingReqNo, new { @class = "form-control input-sm", @readonly = true })
                                                    </div>
                                                    <div class="col-md-1-5 col-md-offset-4 col_cus_offset_3 col_cus_2 padding_rt">
                                                        <label>Request Date:</label>
                                                    </div>
                                                    <div class="col-md-2 col_cus_2_5">
                                                        @Html.TextBoxFor(m => m.RequestDate, new { @class = "form-control input-sm", @readonly = true })
                                                        @Html.ValidationMessageFor(m => m.RequestDate, "", new { @class = "Error_Msg" })
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row Form_Space_top">
                                                <div class="form-group Form_Input">
                                                    <div class="col-md-1-5 col_cus_2">
                                                        <label>Stuffing No:</label>
                                                    </div>
                                                    <div class="col-md-2-5">
                                                        @Html.TextBoxFor(m => m.StuffingNo, new { @class = "form-control input-sm", @readonly = true })
                                                        @Html.ValidationMessageFor(m => m.StuffingNo, "", new { @class = "Error_Msg" })
                                                    </div>
                                                    <div class="col-md-1-5 col-md-offset-4 col_cus_offset_3 col_cus_2">
                                                        <label>Stuffing Date:</label>
                                                    </div>
                                                    <div class="col-md-2 col_cus_2_5 Date_Img">
                                                        @Html.TextBoxFor(m => m.StuffingDate, new { @class = "form-control input-sm", @readonly = true })
                                                        @Html.ValidationMessageFor(m => m.StuffingDate, "", new { @class = "Error_Msg" })
                                                    </div>
                                                </div>
                                            </div>
                                            <div id="DivContainerNo" class="row Form_Space_top">
                                                <div class="form-group Form_Input">
                                                    <div class="col-md-1-5 col_cus_2">
                                                        <label>Container No:</label>
                                                    </div>
                                                    <div class="col-md-2-5">
                                                        @Html.TextBox("ContainerNo", "", new { @class = "form-control input-sm", @readonly = true })
                                                    </div>
                                                    <div class="col-md-1-5 col-md-offset-4 col_cus_offset_3 col_cus_2">
                                                        <label>ICD Code:</label>
                                                    </div>
                                                    <div class="col-md-2-5">
                                                        @Html.TextBox("CFSCode", "", new
                               {
                                   @class = "form-control input-sm",
                                   @readonly = true @*, maxlength = "11", @onkeypress = "return AllowOnlyDecimal()"*@ })
                                                        @Html.ValidationMessage("CFSCode", new { @class = "Error_Msg" })
                                                    </div>
                                                </div>
                                            </div>
                                            <div id="DivContainerSize" class="row Form_Space_top">
                                                <div class="form-group Form_Input">
                                                    <div class="col-md-1-5 col_cus_2">
                                                        <label>Container Size:</label>
                                                    </div>
                                                    <div class="col-md-2-5">
                                                        @Html.DropDownList("Size", new List<SelectListItem>
                                        {
                                            new SelectListItem { Text="20",Value="20"},
                                            new SelectListItem { Text="40",Value="40"},
                                           
                                        }, "----Select----", new { @class = "form-control input-sm dropdown" })
                                                        @Html.ValidationMessage("Size", new { @class = "Error_Msg" })
                                                    </div>
                                                    <div class="col-md-1">
                                                        <div class="boolean-container">
                                                            @Html.RadioButton("StuffingType", "FCL", new { @class = "", @id = "FCL" })
                                                            <label for="FCL"><i class="circle"></i><span>FCL</span></label>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-1">
                                                        <div class="boolean-container">
                                                            @Html.RadioButton("StuffingType", "LCL", new { @class = "", @id = "LCL" })
                                                            <label for="LCL"><i class="circle"></i><span>LCL</span></label>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-offset-0-5 col-md-3" style="display:none">
                                                        <div class="boolean-container">
                                                            @Html.CheckBoxFor(m => m.DirectStuffing, new { @id = "chkDS" })
                                                            <label for="chkDS"><i class="square"></i><span>Direct Stuffing</span></label>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-offset-2 col-md-1-5 col_cus_5">
                                                        <label>POD:</label>
                                                    </div>
                                                    <div class="col-md-2-5">
                                                        @Html.TextBoxFor(m => m.POD, new { @class = "form-control input_sm" })
                                                    </div>
                                                </div>
                                            </div>

                                            <div id="DivContainerSize" class="row Form_Space_top">
                                                <div class="form-group Form_Input">
                                                    <div class="col-md-1-5 col_cus_2">
                                                        <label>Origin:</label>
                                                    </div>
                                                    <div class="col-md-2-5">
                                                        @Html.DropDownListFor(m => m.ContOrigin, new List<SelectListItem>
                                        {
                                            new SelectListItem { Text="FAC",Value="FAC"},
                                            new SelectListItem { Text="NON FAC",Value="NON FAC"},

                                        }, "----Select----", new { @class = "form-control input-sm dropdown" })
                                                      
                                                    </div>
                                                    <div class="col-md-1 col_cus_2">
                                                        <label>POL:</label>
                                                    </div>
                                                    <div class="col-md-2-5">
                                                        @Html.DropDownListFor(m => m.ContPOL, new List<SelectListItem>
                                        {
                                            new SelectListItem { Text="LONI",Value="LONI"},
                                            new SelectListItem { Text="PIPAVA",Value="PIPAVA"},
                                            new SelectListItem { Text="MUNDRA",Value="MUNDRA"},
                                            new SelectListItem { Text="JNPT",Value="JNPT"},
                                              new SelectListItem { Text="GTIL",Value="GTIL"},
                                            new SelectListItem { Text="NSICT",Value="NSICT"},
                                             new SelectListItem { Text="NSIGT",Value="NSIGT"},
                                                new SelectListItem { Text="BMCT",Value="BMCT"},

                                        }, "----Select----", new { @class = "form-control input-sm dropdown" })
                                                        @*@Html.ValidationMessage("POL", new { @class = "Error_Msg" })*@
                                                    </div>
                                                    <div class="col-md-offset-1 col-md-1 col_cus_2">
                                                        <label>Via:</label>
                                                    </div>
                                                    <div class="col-md-2-5">
                                                        @Html.DropDownListFor(m => m.ContVia, new List<SelectListItem>
                                        {
                                            new SelectListItem { Text="LONI",Value="LONI"},
                                            new SelectListItem { Text="TKD",Value="TKD"},

                                        }, "----Select----", new { @class = "form-control input-sm dropdown" })
                                                      
                                                    </div>
                                                </div>
                                            </div>
                                            <div id="DivShippingLine" class="row Form_Space_top">
                                                <div class="form-group Form_Input">
                                                    <div class="col-md-1-5 col_cus_2">
                                                        <label>Shipping Line:</label>
                                                    </div>
                                                    <div class="col-md-10-5 col_cus_10">
                                                        @Html.TextBox("ShippingLine", "", new { @class = "form-control input-sm", @readonly = true })
                                                        <span class="search"><i class="fa fa-search" aria-hidden="true" data-toggle="modal" data-target="#ShippingLineModal"></i></span>
                                                        @Html.Hidden("ShippingLineId")
                                                    </div>
                                                </div>
                                            </div>
                                            <div id="DivShippingSeal" class="row Form_Space_top">
                                                <div class="form-group Form_Input">
                                                    <div class="col-md-1-5 col_cus_2">
                                                        <label>Shipping Seal:</label>
                                                    </div>
                                                    <div class="col-md-4">
                                                        @Html.TextBox("ShippingSeal", "", new
                               {
                                   @class = "form-control input-sm"
                               })
                                                    </div>
                                                    <div class="col-md-1-5 col_cus_offset_0_5 col-md-offset-1 padding_rt">
                                                        <label>Custom Seal:</label>
                                                    </div>
                                                    <div class="col-md-4">
                                                        @Html.TextBox("CustomSeal", "", new
                               {
                                   @class = "form-control input-sm",
                                   @maxlength = "30" @*, maxlength = "11", @onkeypress = "return AllowOnlyDecimal()"*@ })
                                                        @Html.ValidationMessage("CustomSeal", new { @class = "Error_Msg" })
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row Form_Space_top">
                                                <div class="form-group Form_Input">
                                                    <div class="col-md-1-5 col_cus_2">
                                                        <label>Remarks:</label>
                                                    </div>
                                                    <div class="col-md-10-5 col_cus_10">
                                                        @Html.TextAreaFor(m => m.Remarks, new { @style = "width:100%;height:100px" })
                                                        @Html.ValidationMessageFor(m => m.Remarks, "", new { @class = "Error_Msg" })
                                                    </div>
                                                </div>
                                            </div>
                                            <div id="DivContainerStuffingDetails" class="Head_h5">
                                                @*@Html.Hidden("CartingAppDtlId")
                        @Html.Hidden("LocationDetails")*@
                                                <div class="row Form_Space_top">
                                                    <div class="form-group Form_Input">
                                                        <div class="col-md-1-5 col_cus_2 padding_rt">
                                                            <label>Shipping Bill No:</label>
                                                        </div>
                                                        <div class="col-md-2-5">
                                                            @Html.TextBox("ShippingBillNo", "", new
                                   {
                                       @class = "form-control input-sm",
                                       @maxlength = "30"
                                   })
                                                        </div>
                                                        <div class="col-md-1-5 col-md-offset-4 col_cus_offset_3 col_cus_2 padding_rt">
                                                            <label>Shipping Bill Date:</label>
                                                        </div>
                                                        <div class="col-md-2 col_cus_2_5 Date_Img">
                                                            @Html.TextBox("ShippingDate", "", new { @class = "form-control input-sm", @readonly = true })
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row Form_Space_top">
                                                    <div class="form-group Form_Input">
                                                        <div class="col-md-1-5 col_cus_2">
                                                            <label>CHA:</label>
                                                        </div>
                                                        <div class="col-md-10-5 col_cus_10">
                                                            @Html.Hidden("CHAId")
                                                            @Html.TextBox("CHA", "", new
                                   {
                                       @class = "form-control input-sm",
                                       @readonly = true
                                   })
                                                            <span class="search"><i class="fa fa-search" aria-hidden="true" data-toggle="modal" data-target="#CHAHdrModal"></i></span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row Form_Space_top">
                                                    <div class="form-group Form_Input">
                                                        <div class="col-md-1-5 col_cus_2">
                                                            <label>Exporter:</label>
                                                        </div>
                                                        <div class="col-md-10-5 col_cus_10">
                                                            @Html.Hidden("ExporterId")
                                                            @Html.TextBox("Exporter", "", new
                                   {
                                       @class = "form-control input-sm",
                                       @readonly = true
                                   })
                                                            <span class="search"><i class="fa fa-search" aria-hidden="true" data-toggle="modal" data-target="#ExporterModal"></i></span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row Form_Space_top">
                                                    <div class="form-group Form_Input">
                                                        <div class="col-md-1-5 col_cus_2">
                                                            <label>Consignee:</label>
                                                        </div>
                                                        <div class="col-md-10-5 col_cus_10">
                                                            @Html.TextBox("Consignee", "", new
                                   {
                                       @class = "form-control input-sm",
                                       @maxlength = "50"
                                   })
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row Form_Space_top">
                                                    <div class="form-group Form_Input">
                                                        <div class="col-md-1-5 col_cus_2">
                                                            <label>Cargo Description:</label>
                                                        </div>
                                                        <div class="col-md-10-5 col_cus_10">
                                                            @Html.TextArea("CargoDescription", "", new
                                   {
                                       @style = "width:100%;height:75px"
                                   })
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row Form_Space_top">
                                                    <div class="form-group Form_Input">
                                                        <div class="col-md-1-5 col_cus_2">
                                                            <label>Marks & No:</label>
                                                        </div>
                                                        <div class="col-md-2-5">
                                                            @Html.TextBox("MarksNo", "", new
                                   {
                                       @class = "form-control input-sm"
                                   })
                                                        </div>
                                                        <div class="col-md-1-5 col-md-offset-4 col_cus_offset_3 col_cus_2">
                                                            <label>FOB Value:</label>
                                                        </div>
                                                        <div class="col-md-2-5">
                                                            @Html.TextBox("Fob", "", new
                                   {
                                       @class = "form-control input-sm"
                                   })
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row Form_Space_top">
                                                    <div class="form-group Form_Input">
                                                        <div class="col-md-1-5 col_cus_2">
                                                            <label>Stuffed Qty:</label>
                                                        </div>
                                                        <div class="col-md-2-5">
                                                            @Html.TextBox("StuffQuantity", "", new
                                   {
                                       @class = "form-control input-sm"
                                   })
                                                        </div>
                                                        <div class="col-md-1-5 col-md-offset-4 col_cus_offset_3 col_cus_2">
                                                            <label>Stuffed Wt (Kg):</label>
                                                        </div>
                                                        <div class="col-md-2-5">
                                                            @Html.TextBox("StuffWeight", "", new
                                   {
                                       @class = "form-control input-sm" @*, maxlength = "11", @onkeypress = "return AllowOnlyDecimal(event)"*@ })
                                                            @*@Html.ValidationMessage("CUM", new { @class = "Error_Msg" })*@
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row Form_Space_top">
                                                    <div class="form-group Form_Input">
                                                        <div class="col-md-1-5 col_cus_2">
                                                            <label>Insured:</label>
                                                        </div>
                                                        <div class="col-md-1">
                                                            <div class="boolean-container">
                                                                <input type="checkbox" id="Insured" />
                                                                <label for="Insured"><i class="square"></i></label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="stoke SignUp_space_top SignUp_space_bottom"></div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-offset-4 col-md-2">
                                                        <input type="button" id="BtnAddContainerStuff" class="btn log_Btn_sm" value="Add" onclick="SaveContainerStuffingDtl()" disabled />
                                                    </div>
                                                    <div class="col-md-2">
                                                        <input type="button" class="btn log_Btn_sm" value="Reset" />
                                                    </div>
                                                </div>
                                                <div id="DivContainerStuffingTblErrMsg" class="logErrMsg Form_Space_bottom Form_Space_top" style="background-color:transparent"></div>
                                                <table class="table table-striped table-bordered dataTable" id="TblContainerStuffing" style="width:100%;">
                                                    <thead>
                                                        <tr>
                                                            <th class="text-center">@Html.DisplayName("SL No")</th>
                                                            <th>@Html.DisplayName("Container No")</th>
                                                            <th>@Html.DisplayName("Shipping Bill No")</th>
                                                            <th>@Html.DisplayName("Shipping Bill Date")</th>
                                                            <th>@Html.DisplayName("Exporter")</th>
                                                            <th>@Html.DisplayName("Stuffed Qty")</th>
                                                            <th>@Html.DisplayName("Stuffed Wt")</th>
                                                            <th class="text-center">@Html.DisplayName("Edit")</th>
                                                            <th class="text-center">@Html.DisplayName("View")</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody></tbody>
                                                </table>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="stoke SignUp_space_bottom2 SignUp_space_top2"></div>
                                        </div>
                                        <div class="logSuccMsg" style="background-color:transparent" id="DivContainerStuffingMsg"></div>
                                        <div class="logErrMsg Form_Space_bottom" style="background-color:transparent" id="DivContainerStuffingErrMsg"></div>

                                   
                                </div>

                            </div>
                            <div class="tab-pane fade" id="DivInvoice">
                                <div class="Head_h4" style="border:0;">
                                    <div class="Head_h5">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <h5>Charges</h5>
                                            </div>
                                        </div>
                                        <div class="row Form_Space_top">
                                            <div class="form-group Form_Input">
                                                <div class="col-md-1-5 col_cus_2 padding_rt">
                                                    @Html.LabelFor(m => m.GREPartyCode, new { @class = "InputLabel" })<span class="LabelColon">:</span>
                                                </div>
                                                <div class="col-md-2-5">
                                                    @Html.HiddenFor(m => m.GREPartyId, new { @value = "0" })
                                                    @Html.TextBoxFor(m => m.GREPartyCode, new { @class = "form-control input-sm", @readOnly = true })
                                                    <span class="search" id="GREPartySearch"><i class="fa fa-search" aria-hidden="true" data-toggle="modal" data-target="#GREPartyModal"></i></span>
                                                    @*@Html.ValidationMessageFor(m => m.PortCharge)*@
                                                </div>

                                                <div class="col-md-offset-4-5 col-md-1-5 col_cus_2 padding_rt">
                                                    <label class="InputLabel">InvoiceNo GRE</label><span class="LabelColon">:</span>
                                                </div>
                                                <div class="col-md-2">
                                                    @Html.TextBoxFor(m => m.InvoiceNoGRE, new { @class = "form-control input-sm", @readonly = true })
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row Form_Space_top">
                                            <div class="col-md-12">
                                                <table id="tblCWCCharges" class="table table-bordered table-striped dataTable Table_center">
                                                    <thead>
                                                        <tr>
                                                            <th rowspan="2">Charges</th>
                                                            <th rowspan="2">Value</th>
                                                            <th colspan="2" class="text-center">IGST</th>
                                                            <th colspan="2" class="text-center">CGST</th>
                                                            <th colspan="2" class="text-center">SGST</th>
                                                            <th rowspan="2" style="width:15%;">Total</th>
                                                        </tr>
                                                        <tr>
                                                            <th>%</th>
                                                            <th>Amt</th>
                                                            <th>%</th>
                                                            <th>Amt</th>
                                                            <th>%</th>
                                                            <th style="border-right:1px solid #ddd;">Amt</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            @Html.HiddenFor(m => m.GREOperationId, new { @value = "0" })
                                                            @Html.HiddenFor(m => m.GREChargeType, new { @value = "0" })
                                                            @Html.HiddenFor(m => m.GRESACCode, new { @value = "0" })
                                                            <td>@Html.TextBoxFor(m => m.GREChargeName, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.GRECharge, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.GREIGSTPer, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.GREIGSTCharge, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.GRECGSTPer, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.GRECGSTCharge, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.GRESGSTPer, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.GRESGSTCharge, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.GRETotalAmount, new { @class = "form-control input-sm", @readonly = true })</td>
                                                        </tr>
                                                    </tbody>
                                                    @*<tfoot>
                                                            <tr>
                                                                <td colspan="8" class="text-right">Total:</td>
                                                                <td style="font-weight:bold;color:#ff0000;text-align:right;">
                                                                    @Html.TextBoxFor(m => m.GRETotalAmount, new { @class = "form-control input-sm", @readonly = true })
                                                                </td>
                                                            </tr>
                                                        </tfoot>*@
                                                </table>
                                            </div>
                                        </div>

                                        <div class="row Form_Space_top">
                                            <div class="form-group Form_Input">
                                                <div class="col-md-1-5 col_cus_2 padding_rt">
                                                    @Html.LabelFor(m => m.INSPartyCode, new { @class = "InputLabel" })<span class="LabelColon">:</span>
                                                </div>
                                                <div class="col-md-2-5">
                                                    @Html.HiddenFor(m => m.INSPartyId, new { @value = "0" })
                                                    @Html.TextBoxFor(m => m.INSPartyCode, new { @class = "form-control input-sm", @readOnly = true })
                                                    <span class="search" id="INSPartySearch"><i class="fa fa-search" aria-hidden="true" data-toggle="modal" data-target="#INSPartyModal"></i></span>
                                                    @*@Html.ValidationMessageFor(m => m.PortCharge)*@
                                                </div>

                                                <div class="col-md-offset-4-5 col-md-1-5 col_cus_2 padding_rt">
                                                    <label class="InputLabel">Invoice No INS</label><span class="LabelColon">:</span>
                                                </div>
                                                <div class="col-md-2">
                                                    @Html.TextBoxFor(m => m.InvoiceNoINS, new { @class = "form-control input-sm", @readonly = true })
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row Form_Space_top">
                                            <div class="col-md-12">
                                                <table id="tblCWCCharges" class="table table-bordered table-striped dataTable Table_center">
                                                    <thead>
                                                        <tr>
                                                            <th rowspan="2">Charges</th>
                                                            <th rowspan="2">Value</th>
                                                            <th colspan="2" class="text-center">IGST</th>
                                                            <th colspan="2" class="text-center">CGST</th>
                                                            <th colspan="2" class="text-center">SGST</th>
                                                            <th rowspan="2" style="width:15%;">Total</th>
                                                        </tr>
                                                        <tr>
                                                            <th>%</th>
                                                            <th>Amt</th>
                                                            <th>%</th>
                                                            <th>Amt</th>
                                                            <th>%</th>
                                                            <th style="border-right:1px solid #ddd;">Amt</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            @Html.HiddenFor(m => m.INSOperationId, new { @value = "0" })
                                                            @Html.HiddenFor(m => m.INSChargeType, new { @value = "0" })
                                                            @Html.HiddenFor(m => m.INSSACCode, new { @value = "0" })
                                                            <td>@Html.TextBoxFor(m => m.INSChargeName, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.INSCharge, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.INSIGSTPer, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.INSIGSTCharge, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.INSCGSTPer, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.INSCGSTCharge, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.INSSGSTPer, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.INSSGSTCharge, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.INSTotalAmount, new { @class = "form-control input-sm", @readonly = true })</td>
                                                        </tr>
                                                    </tbody>
                                                    @*<tfoot>
                                                            <tr>
                                                                <td colspan="8" class="text-right">Total:</td>
                                                                <td style="font-weight:bold;color:#ff0000;text-align:right;">
                                                                    @Html.TextBoxFor(m => m.INSTotalAmount, new { @class = "form-control input-sm", @readonly = true })
                                                                </td>
                                                            </tr>
                                                        </tfoot>*@
                                                </table>
                                            </div>
                                        </div>


                                        @*<div class="row Form_Space_top">
                                            <div class="form-group Form_Input">
                                                <div class="col-md-1-5 col_cus_2 padding_rt">
                                                    @Html.LabelFor(m => m.STOPartyCode, new { @class = "InputLabel" })<span class="LabelColon">:</span>
                                                </div>
                                                <div class="col-md-2-5">
                                                    @Html.HiddenFor(m => m.STOPartyId, new { @value = "0" })
                                                    @Html.TextBoxFor(m => m.STOPartyCode, new { @class = "form-control input-sm", @readOnly = true })
                                                    <span class="search" id="STOPartySearch"><i class="fa fa-search" aria-hidden="true" data-toggle="modal" data-target="#STOPartyModal"></i></span>
                                                    
                                                </div>

                                                <div class="col-md-offset-4-5 col-md-1-5 col_cus_2 padding_rt">
                                                    <label class="InputLabel">Invoice No STO</label><span class="LabelColon">:</span>
                                                </div>
                                                <div class="col-md-2">
                                                    @Html.TextBoxFor(m => m.InvoiceNoSTO, new { @class = "form-control input-sm", @readonly = true })
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row Form_Space_top">
                                            <div class="col-md-12">
                                                <table id="tblCWCCharges" class="table table-bordered table-striped dataTable Table_center">
                                                    <thead>
                                                        <tr>
                                                            <th rowspan="2">Charges</th>
                                                            <th rowspan="2">Value</th>
                                                            <th colspan="2" class="text-center">IGST</th>
                                                            <th colspan="2" class="text-center">CGST</th>
                                                            <th colspan="2" class="text-center">SGST</th>
                                                            <th rowspan="2" style="width:15%;">Total</th>
                                                        </tr>
                                                        <tr>
                                                            <th>%</th>
                                                            <th>Amt</th>
                                                            <th>%</th>
                                                            <th>Amt</th>
                                                            <th>%</th>
                                                            <th style="border-right:1px solid #ddd;">Amt</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            @Html.HiddenFor(m => m.STOOperationId, new { @value = "0" })
                                                            @Html.HiddenFor(m => m.STOChargeType, new { @value = "0" })
                                                            @Html.HiddenFor(m => m.STOSACCode, new { @value = "0" })
                                                            <td>@Html.TextBoxFor(m => m.STOChargeName, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.STOCharge, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.STOIGSTPer, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.STOIGSTCharge, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.STOCGSTPer, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.STOCGSTCharge, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.STOSGSTPer, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.STOSGSTCharge, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.STOTotalAmount, new { @class = "form-control input-sm", @readonly = true })</td>
                                                        </tr>
                                                    </tbody>
                                                   
                                                </table>
                                            </div>
                                        </div>*@


                                        <div class="row Form_Space_top">
                                            <div class="form-group Form_Input">
                                                <div class="col-md-1-5 col_cus_2 padding_rt">
                                                    @Html.LabelFor(m => m.HandalingPartyCode, new { @class = "InputLabel" })<span class="LabelColon">:</span>
                                                </div>
                                                <div class="col-md-2-5">
                                                    @Html.HiddenFor(m => m.HandalingPartyId, new { @value = "0" })
                                                    @Html.TextBoxFor(m => m.HandalingPartyCode, new { @class = "form-control input-sm", @readOnly = true })
                                                    <span class="search" id="HandalingPartySearch"><i class="fa fa-search" aria-hidden="true" data-toggle="modal" data-target="#HandalingPartyModal"></i></span>
                                                    @*@Html.ValidationMessageFor(m => m.PortCharge)*@
                                                </div>

                                                <div class="col-md-offset-4-5 col-md-1-5 col_cus_2 padding_rt">
                                                    <label class="InputLabel">Invoice No. MO</label><span class="LabelColon">:</span>
                                                </div>
                                                <div class="col-md-2">
                                                    @Html.TextBoxFor(m => m.InvoiceNoHND, new { @class = "form-control input-sm", @readonly = true })
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row Form_Space_top">
                                            <div class="col-md-12">
                                                <table id="tblCWCCharges" class="table table-bordered table-striped dataTable Table_center">
                                                    <thead>
                                                        <tr>
                                                            <th rowspan="2">Charges</th>
                                                            <th rowspan="2">Value</th>
                                                            <th colspan="2" class="text-center">IGST</th>
                                                            <th colspan="2" class="text-center">CGST</th>
                                                            <th colspan="2" class="text-center">SGST</th>
                                                            <th rowspan="2" style="width:15%;">Total</th>
                                                        </tr>
                                                        <tr>
                                                            <th>%</th>
                                                            <th>Amt</th>
                                                            <th>%</th>
                                                            <th>Amt</th>
                                                            <th>%</th>
                                                            <th style="border-right:1px solid #ddd;">Amt</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            @Html.HiddenFor(m => m.HandalingOperationId, new { @value = "0" })
                                                            @Html.HiddenFor(m => m.HandalingChargeType, new { @value = "0" })
                                                            @Html.HiddenFor(m => m.HandalingSACCode, new { @value = "0" })
                                                            <td>@Html.TextBoxFor(m => m.HandalingChargeName, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.HandalingCharge, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.HandalingIGSTPer, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.HandalingIGSTCharge, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.HandalingCGSTPer, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.HandalingCGSTCharge, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.HandalingSGSTPer, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.HandalingSGSTCharge, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.HandalingTotalAmount, new { @class = "form-control input-sm", @readonly = true })</td>
                                                        </tr>
                                                    </tbody>
                                                    @*<tfoot>
                                                            <tr>
                                                                <td colspan="8" class="text-right">Total:</td>
                                                                <td style="font-weight:bold;color:#ff0000;text-align:right;">
                                                                    @Html.TextBoxFor(m => m.TotalAmount, new { @class = "form-control input-sm", @readonly = true })
                                                                </td>
                                                            </tr>
                                                        </tfoot>*@
                                                </table>
                                            </div>
                                        </div>


                                        <div class="row Form_Space_top">
                                            <div class="form-group Form_Input">
                                                <div class="col-md-1-5 col_cus_2 padding_rt">
                                                    @Html.LabelFor(m => m.GENSPPartyCode, new { @class = "InputLabel" })<span class="LabelColon">:</span>
                                                </div>
                                                <div class="col-md-2-5">
                                                    @Html.HiddenFor(m => m.GENSPPartyId, new { @value = "0" })
                                                    @Html.TextBoxFor(m => m.GENSPPartyCode, new { @class = "form-control input-sm", @readOnly = true })
                                                    <span class="search" id="GENSPPartySearch"><i class="fa fa-search" aria-hidden="true" data-toggle="modal" data-target="#GENSPPartyModal"></i></span>
                                                    @*@Html.ValidationMessageFor(m => m.PortCharge)*@
                                                </div>

                                                <div class="col-md-offset-4-5 col-md-1-5 col_cus_2 padding_rt">
                                                    <label class="InputLabel">Invoice No. Gen.Space</label><span class="LabelColon">:</span>
                                                </div>
                                                <div class="col-md-2">
                                                    @Html.TextBoxFor(m => m.InvoiceNoGENSP, new { @class = "form-control input-sm", @readOnly = true })
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row Form_Space_top">
                                            <div class="col-md-12">
                                                <table id="tblCWCCharges" class="table table-bordered table-striped dataTable Table_center">
                                                    <thead>
                                                        <tr>
                                                            <th rowspan="2">Charges</th>
                                                            <th rowspan="2">Value</th>
                                                            <th colspan="2" class="text-center">IGST</th>
                                                            <th colspan="2" class="text-center">CGST</th>
                                                            <th colspan="2" class="text-center">SGST</th>
                                                            <th rowspan="2" style="width:15%;">Total</th>
                                                        </tr>
                                                        <tr>
                                                            <th>%</th>
                                                            <th>Amt</th>
                                                            <th>%</th>
                                                            <th>Amt</th>
                                                            <th>%</th>
                                                            <th style="border-right:1px solid #ddd;">Amt</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            @Html.HiddenFor(m => m.GENSPOperationId, new { @value = "0" })
                                                            @Html.HiddenFor(m => m.GENSPChargeType, new { @value = "0" })
                                                            @Html.HiddenFor(m => m.GENSPSACCode, new { @value = "0" })
                                                            <td>@Html.TextBoxFor(m => m.GENSPChargeName, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.GENSPCharge, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.GENSPIGSTPer, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.GENSPIGSTCharge, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.GENSPCGSTPer, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.GENSPCGSTCharge, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.GENSPSGSTPer, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.GENSPSGSTCharge, new { @class = "form-control input-sm", @readonly = true })</td>
                                                            <td>@Html.TextBoxFor(m => m.GENSPTotalAmount, new { @class = "form-control input-sm", @readonly = true })</td>
                                                        </tr>
                                                    </tbody>
                                                    @*<tfoot>
                        <tr>
                            <td colspan="8" class="text-right">Total:</td>
                            <td style="font-weight:bold;color:#ff0000;text-align:right;">
                                @Html.TextBoxFor(m => m.TotalAmount, new { @class = "form-control input-sm", @readonly = true })
                            </td>
                        </tr>
                    </tfoot>*@
                                                </table>
                                            </div>
                                        </div>


                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    @*<div class="row">
                        <div class="stoke SignUp_space_bottom2 SignUp_space_top2"></div>
                    </div>*@
                    @*<div class="row">
                            <div class="col-md-offset-3 col-md-2 SignUp_space_bottom">
                                <input type="submit" class="btn log_Btn_sm" value="Save" id="BtnSaveContainerStuff" />
                            </div>
                            <div class="col-md-2">
                                <input type="button" class="btn log_Btn_sm" value="Reset" onclick="ResetAllFields()" />
                            </div>

                            <div class="col-md-2">
                                <input type="button" id="BtnPrint" class="btn log_Btn_sm" value="Print" onclick="PrintInvoiceByNo()" />
                            </div>
                        </div>*@

                    <div class="row">
                        <div class="col-md-offset-3 col-md-2 SignUp_space_bottom">
                            <input type="submit" class="btn log_Btn_sm" value="Save" id="BtnSaveContainerStuff" />
                        </div>
                        <div class="col-md-2 SignUp_space_bottom">
                            <input type="button" class="btn log_Btn_sm" value="Back" onclick="LoadContainerStuffing()" />
                        </div>
                        @*<div class="col-md-2">
                            <input type="button" class="btn log_Btn_sm" value="Cancel" onclick="LoadContainerStuffing()" />
                        </div>*@
                        <div class="col-md-2">
                            <input type="button" id="BtnPrint" class="btn log_Btn_sm" value="Print" onclick="PrintInvoiceByNo()" />
                        </div>
                    </div>
                    <div class="logSuccMsg" style="background-color:transparent" id="DivContainerStuffingMsg"></div>
                    <div class="logErrMsg Form_Space_bottom" style="background-color:transparent" id="DivContainerStuffingErrMsg"></div>

                </div>
            }
            @Scripts.Render("~/bundles/jqueryval")
            <div class="row">
                <div class="col-md-12">
                    <div id="DivContainerStuffingList"></div>
                </div>
            </div>
        </div>
    </div>

</div>


<div class="modal fade" id="DivModalStuffingReqNo" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content popup_modal">
            <div class="modal-header popup_header">
                <button type="button" class="close" data-dismiss="modal"><i class="fa fa-times" aria-hidden="true"></i></button>
                <h4 class="modal-title">List Of Request No.</h4>
            </div>
            <div class="modal-body popup_body">
                <input placeholder="Search Me" id="SearchReqNo" type="text" />
                <ul class="navList" id="LstRequestNo">
                    @{
                        if (ViewBag.LstRequestNo != null)
                        {
                            foreach (var data in ViewBag.LstRequestNo)
                            {
                                <li id="@data.Value">@data.Text</li>
                            }
                        }
                    }
                </ul>
            </div>
            <div class="modal-footer">
                <div class="row">
                    <div class="col-md-offset-6 col-md-6">
                        <button type="button" class="btn log_Btn_sm" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="CHAHdrModal" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content popup_modal">
            <div class="modal-header popup_header">
                <button type="button" class="close" data-dismiss="modal"><i class="fa fa-times" aria-hidden="true"></i></button>
                <h4 class="modal-title">List Of CHA</h4>
            </div>
            <div class="modal-body popup_body">
                <input placeholder="Search Me" id="SearchCHAHdr" type="text" />
                <ul class="navList" id="ListOfCHAHdr">
                    @{
                        if (ViewBag.CHAList != null)
                        {
                            foreach (var data in ViewBag.CHAList)
                            {
                                <li id="@data.Value">@data.Text</li>
                            }
                        }
                    }
                </ul>
            </div>
            <div class="modal-footer">
                <div class="row">
                    <div class="col-md-offset-6 col-md-6">
                        <button type="button" class="btn log_Btn_sm" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="ExporterModal" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content popup_modal">
            <div class="modal-header popup_header">
                <button type="button" class="close" data-dismiss="modal"><i class="fa fa-times" aria-hidden="true"></i></button>
                <h4 class="modal-title">List Of Exporter</h4>
            </div>
            <div class="modal-body popup_body">
                <input placeholder="Search Me" id="SearchExporter" type="text" />
                <ul class="navList" id="LstExporter">
                    @{
                        if (ViewBag.ListOfExporter != null)
                        {
                            foreach (var data in ViewBag.ListOfExporter)
                            {
                                <li id="@data.Value">@data.Text</li>
                            }
                        }
                    }
                </ul>
            </div>
            <div class="modal-footer">
                <div class="row">
                    <div class="col-md-offset-6 col-md-6">
                        <button type="button" class="btn log_Btn_sm" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="ShippingLineModal" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content popup_modal">
            <div class="modal-header popup_header">
                <button type="button" class="close" data-dismiss="modal"><i class="fa fa-times" aria-hidden="true"></i></button>
                <h4 class="modal-title">List of Shipping Line</h4>
            </div>
            <div class="modal-body popup_body">
                <input placeholder="Search Me" id="ShippingLineBox" type="text" />
                <ul class="navList" id="ShippingLineList">
                    @{
                        if (ViewBag.ShippingLineList != null)
                        {
                            foreach (var item in ViewBag.ShippingLineList)
                            {
                                <li id="@item.Value">@item.Text</li>
                            }
                        }
                    }
                </ul>
            </div>
            <div class="modal-footer">
                <div class="row">
                    <div class="col-md-offset-6 col-md-6">
                        <button type="button" class="btn log_Btn_sm" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="ContainerModal" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content popup_modal">
            <div class="modal-header popup_header">
                <button type="button" class="close" data-dismiss="modal"><i class="fa fa-times" aria-hidden="true"></i></button>
                <h4 class="modal-title">List of Container No</h4>
            </div>
            <div class="modal-body popup_body">
                <input placeholder="Search Me" id="ContainerBox" type="text" />
                <ul class="navList" id="ContainerList">
                    @*<li></li>*@
                    @*@{
                            if (ViewBag.ContainerList != null)
                            {
                                foreach (var item in ViewBag.ContainerList)
                                {
                                    <li id="@item.Value">@item.Text</li>
                                }
                            }
                        }*@
                </ul>
            </div>
            <div class="modal-footer">
                <div class="row">
                    <div class="col-md-offset-6 col-md-6">
                        <button type="button" class="btn log_Btn_sm" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="GREPartyModal" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content popup_modal">
            <div class="modal-header popup_header">
                <button type="button" class="close" data-dismiss="modal"><i class="fa fa-times" aria-hidden="true"></i></button>
                <h4 class="modal-title">List of Party</h4>
            </div>
            <div class="modal-body popup_body">
                <input placeholder="Search Me" id="GREPartybox" type="text" />
                <ul class="navList" id="lstGREParty"></ul>
            </div>
            <div class="modal-footer">
                <div class="row">
                    <div class="col-md-offset-6 col-md-6">
                        <button type="button" class="btn log_Btn_sm" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="INSPartyModal" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content popup_modal">
            <div class="modal-header popup_header">
                <button type="button" class="close" data-dismiss="modal"><i class="fa fa-times" aria-hidden="true"></i></button>
                <h4 class="modal-title">List of Party</h4>
            </div>
            <div class="modal-body popup_body">
                <input placeholder="Search Me" id="INSPartybox" type="text" />
                <ul class="navList" id="lstINSParty"></ul>
            </div>
            <div class="modal-footer">
                <div class="row">
                    <div class="col-md-offset-6 col-md-6">
                        <button type="button" class="btn log_Btn_sm" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="STOPartyModal" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content popup_modal">
            <div class="modal-header popup_header">
                <button type="button" class="close" data-dismiss="modal"><i class="fa fa-times" aria-hidden="true"></i></button>
                <h4 class="modal-title">List of Party</h4>
            </div>
            <div class="modal-body popup_body">
                <input placeholder="Search Me" id="STOPartybox" type="text" />
                <ul class="navList" id="lstSTOParty"></ul>
            </div>
            <div class="modal-footer">
                <div class="row">
                    <div class="col-md-offset-6 col-md-6">
                        <button type="button" class="btn log_Btn_sm" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="HandalingPartyModal" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content popup_modal">
            <div class="modal-header popup_header">
                <button type="button" class="close" data-dismiss="modal"><i class="fa fa-times" aria-hidden="true"></i></button>
                <h4 class="modal-title">List of Party</h4>
            </div>
            <div class="modal-body popup_body">
                <input placeholder="Search Me" id="HandalingPartybox" type="text" />
                <ul class="navList" id="lstHandalingParty"></ul>
            </div>
            <div class="modal-footer">
                <div class="row">
                    <div class="col-md-offset-6 col-md-6">
                        <button type="button" class="btn log_Btn_sm" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="GENSPPartyModal" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content popup_modal">
            <div class="modal-header popup_header">
                <button type="button" class="close" data-dismiss="modal"><i class="fa fa-times" aria-hidden="true"></i></button>
                <h4 class="modal-title">List of Party</h4>
            </div>
            <div class="modal-body popup_body">
                <input placeholder="Search Me" id="GENSPPartybox" type="text" />
                <ul class="navList" id="lstGENSPParty"></ul>
            </div>
            <div class="modal-footer">
                <div class="row">
                    <div class="col-md-offset-6 col-md-6">
                        <button type="button" class="btn log_Btn_sm" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    var ViewCHAShippingLine = [];

    function PrintInvoiceByNo() {
        debugger;
        InvoiceNoGRE=$('#InvoiceNoGRE').val();
        InvoiceNoINS=$('#InvoiceNoINS').val();
        InvoiceNoSTO=$('#InvoiceNoSTO').val();
        InvoiceNoHND=$('#InvoiceNoHND').val();
        InvoiceNoGENSP=$('#InvoiceNoGENSP').val();
        debugger;
            if (InvoiceNoGRE != '') {
                var Token = $('input[name="__RequestVerificationToken"]').val();
                $.ajax({
                    url: '@Url.Action("GetBulkInvoiceReport", "Ppg_ReportCWC", new { Area = "Report" }) ',
                    headers: { "__RequestVerificationToken": Token },
                    dataType: 'JSON',
                    type: 'POST',
                    data: {
                        InvoiceNumber: InvoiceNoGRE,
                        InvoiceModule: 'EXPCSGRE',
                        PeriodFrom: '@DateTime.Now.ToString("dd/MM/yyyy")',
                        PeriodTo: '@DateTime.Now.ToString("dd/MM/yyyy")',
                        InvoiceModuleName: 'Container Stuffing',
                    },
                    success: function (data) {
                        if (data.Status == 1) {
                            window.open(data.Data + "?_t=" + (new Date().getTime()), "_blank");
                        }
                        else
                            alert(data.Data);
                    }
                });
            }
            if(InvoiceNoINS != ''){
                $.ajax({
                    url: '@Url.Action("GetBulkInvoiceReport", "Ppg_ReportCWC", new { Area = "Report" }) ',
                    headers: { "__RequestVerificationToken": Token },
                    dataType: 'JSON',
                    type: 'POST',
                    data: {
                        InvoiceNumber: InvoiceNoINS,
                        InvoiceModule: 'EXPCSINS',
                        PeriodFrom: '@DateTime.Now.ToString("dd/MM/yyyy")',
                        PeriodTo: '@DateTime.Now.ToString("dd/MM/yyyy")',
                        InvoiceModuleName: 'Container Stuffing',
                    },
                    success: function (data) {
                        if (data.Status == 1) {
                            window.open(data.Data + "?_t=" + (new Date().getTime()), "_blank");
                        }
                        else
                            alert(data.Data);
                    }
                });
            }
            @*if(InvoiceNoSTO != ''){
                $.ajax({
                    url: '@Url.Action("GetBulkInvoiceReport", "Ppg_ReportCWC", new { Area = "Report" }) ',
                    headers: { "__RequestVerificationToken": Token },
                    dataType: 'JSON',
                    type: 'POST',
                    data: {
                        InvoiceNumber: InvoiceNoSTO,
                        InvoiceModule: 'EXPCSSTO',
                        PeriodFrom: '@DateTime.Now.ToString("dd/MM/yyyy")',
                        PeriodTo: '@DateTime.Now.ToString("dd/MM/yyyy")',
                        InvoiceModuleName: 'Container Stuffing',
                    },
                    success: function (data) {
                        if (data.Status == 1) {
                            window.open(data.Data + "?_t=" + (new Date().getTime()), "_blank");

                        }
                        else
                            alert(data.Data);
                    }
                });
            }*@
            if (InvoiceNoHND != '') {
                $.ajax({
                    url: '@Url.Action("GetBulkInvoiceReport", "Ppg_ReportCWC", new { Area = "Report" }) ',
                    headers: { "__RequestVerificationToken": Token },
                    dataType: 'JSON',
                    type: 'POST',
                    data: {
                        InvoiceNumber: InvoiceNoHND,
                        InvoiceModule: 'EXPCSHND',
                        PeriodFrom: '@DateTime.Now.ToString("dd/MM/yyyy")',
                        PeriodTo: '@DateTime.Now.ToString("dd/MM/yyyy")',
                        InvoiceModuleName: 'Container Stuffing',
                    },
                    success: function (data) {
                        if (data.Status == 1)
                            window.open(data.Data + "?_t=" + (new Date().getTime()), "_blank");
                        else
                            alert(data.Data);
                    }
                });
            }

        if (InvoiceNoGENSP != '') {
            $.ajax({
                url: '@Url.Action("GetBulkInvoiceReport", "Ppg_ReportCWC", new { Area = "Report" }) ',
                headers: { "__RequestVerificationToken": Token },
                dataType: 'JSON',
                type: 'POST',
                data: {
                    InvoiceNumber: InvoiceNoGENSP,
                    InvoiceModule: 'EXPCSGEN',
                    PeriodFrom: '@DateTime.Now.ToString("dd/MM/yyyy")',
                    PeriodTo: '@DateTime.Now.ToString("dd/MM/yyyy")',
                    InvoiceModuleName: 'Container Stuffing',
                },
                success: function (data) {
                    if (data.Status == 1)
                        window.open(data.Data + "?_t=" + (new Date().getTime()), "_blank");
                    else
                        alert(data.Data);
                }
            });
        }
            //ResetAllFields();
            //ResetAllInvoiceFields();
            setTimeout(LoadContainerStuffing, TimeInSeconds);

            //else {
            //alert("Invoice No not generated");
            //}

    }

    $('#GREPartySearch').on("click", function () {
        debugger;
        $.ajax({
            url: '@Url.Action("ListOfGREParty", "Loni_CWCExport", new { Area = "Export" })',
            dataType: 'JSON',
            type: 'GET',
            success: function (data) {
                debugger;
                ViewCHAShippingLine = data;
                var html = '';
                $.each(data, function (i, item) {
                    html += '<li id="' + item.GREPartyId + '" " onclick="GetGREParty(this)">' + item.GREPartyCode + '</li>';
                });
                $('#lstGREParty').html(html);
            }
        });

    });
    function GetGREParty(elem) {

        $('#GREPartyCode').val($(elem).text());
        $('#GREPartyId').val($(elem).attr('id'))
        CalculateGroundRentEmpty();
        $("#GREPartyModal").modal("hide");
    }

    function CalculateGroundRentEmpty() {
        debugger;

        var StuffingDate = $('#StuffingDate').val();

        var GREPartyId = $('#GREPartyId').val();

            $.ajax({
                url: '/Export/Loni_CWCExport/CalculateGroundRentEmpty',
                type: 'POST',
                data: {
                    "StuffingDate": StuffingDate, "ArrayOfContainer":JSON.stringify(ArrayOfContainer), "GREPartyId": GREPartyId
                },
                success: function (data) {
                    debugger;
                    if (data != null || data != undefined) {
                        //GREContainerWiseAmtLst=data.GREContainerWiseAmtLst;
                        //GREOperationCFSCodeWiseAmtLst = data.GREOperationCFSCodeWiseAmtLst;
                        $('#GREContainerWiseAmt').val(JSON.stringify(data.GREContainerWiseAmtLst));
                        $('#GREOperationCFSCodeWiseAmt').val(JSON.stringify(data.GREOperationCFSCodeWiseAmtLst));

                        debugger;
                        $('#GREOperationId').val(data.GREOperationId);
                        $('#GREChargeType').val(data.GREChargeType);
                        $('#GREChargeName').val(data.GREChargeName);
                        $('#GRETaxable').val(data.GRETaxable);
                        $('#GRECharge').val(data.GRECharge);
                        $('#GRECGSTCharge').val(data.GRECGSTCharge);
                        $('#GRESGSTCharge').val(data.GRESGSTCharge);
                        $('#GREIGSTCharge').val(data.GREIGSTCharge);
                        $('#GRECGSTPer').val(data.GRECGSTPer);
                        $('#GRESGSTPer').val(data.GRESGSTPer);
                        $('#GREIGSTPer').val(data.GREIGSTPer);
                        $('#GRETotalAmount').val(data.GRETotalAmount);
                        $('#GRESACCode').val(data.GRESACCode);
                    }
                }
            });

    }
    $('#INSPartySearch').on("click", function () {
        debugger;
        $.ajax({
            url: '@Url.Action("ListOfINSParty", "Loni_CWCExport", new { Area = "Export" })',
            dataType: 'JSON',
            type: 'GET',
            success: function (data) {
                debugger;
                ViewCHAShippingLine = data;
                var html = '';
                $.each(data, function (i, item) {
                    html += '<li id="' + item.INSPartyId + '" " onclick="GetINSParty(this)">' + item.INSPartyCode + '</li>';
                });
                $('#lstINSParty').html(html);
            }
        });

    });
    function GetINSParty(elem) {

        $('#INSPartyCode').val($(elem).text());
        $('#INSPartyId').val($(elem).attr('id'))
        CalculateINS();
        $("#INSPartyModal").modal("hide");
    }

    function CalculateINS() {
        debugger;
        var StuffingDate = $('#StuffingDate').val();
        var ContainerNo = $('#ContainerNo').val();
        var CFSCode = $('#CFSCode').val();
        var Size = $('#Size').val();
        var INSPartyId = $('#INSPartyId').val();

        $.ajax({
                url: '/Export/Loni_CWCExport/CalculateINS',
                type: 'POST',
                data: {
                    "StuffingDate":StuffingDate,"ArrayOfContainer":JSON.stringify(ArrayOfContainer),"INSPartyId": INSPartyId
                },
                success: function (data) {
                    debugger;
                    if (data != null || data != undefined) {
                        debugger;
                        //INSContainerWiseAmtLst = data.INSContainerWiseAmtLst;
                        //INSOperationCFSCodeWiseAmtLst = data.INSOperationCFSCodeWiseAmtLst;

                        $('#INSContainerWiseAmt').val(JSON.stringify(data.INSContainerWiseAmtLst));
                        $('#INSOperationCFSCodeWiseAmt').val(JSON.stringify(data.INSOperationCFSCodeWiseAmtLst));


                        $('#INSOperationId').val(data.INSOperationId);
                        $('#INSChargeType').val(data.INSChargeType);
                        $('#INSChargeName').val(data.INSChargeName);
                        $('#INSTaxable').val(data.INSTaxable);
                        $('#INSCharge').val(data.INSCharge);
                        $('#INSCGSTCharge').val(data.INSCGSTCharge);
                        $('#INSSGSTCharge').val(data.INSSGSTCharge);
                        $('#INSIGSTCharge').val(data.INSIGSTCharge);
                        $('#INSCGSTPer').val(data.INSCGSTPer);
                        $('#INSSGSTPer').val(data.INSSGSTPer);
                        $('#INSIGSTPer').val(data.INSIGSTPer);
                        $('#INSTotalAmount').val(data.INSTotalAmount);
                        $('#INSSACCode').val(data.INSSACCode);
                    }
                }
            });
    }

    $('#STOPartySearch').on("click", function () {
        debugger;
        $.ajax({
            url: '@Url.Action("ListOfSTOParty", "Loni_CWCExport", new { Area = "Export" })',
            dataType: 'JSON',
            type: 'GET',
            success: function (data) {
                debugger;
                ViewCHAShippingLine = data;
                var html = '';
                $.each(data, function (i, item) {
                    html += '<li id="' + item.STOPartyId + '" " onclick="GetSTOParty(this)">' + item.STOPartyCode + '</li>';
                });
                $('#lstSTOParty').html(html);
            }
        });

    });
    function GetSTOParty(elem) {
        $('#STOPartyCode').val($(elem).text());
        $('#STOPartyId').val($(elem).attr('id'))
        CalculateSTO();
        $("#STOPartyModal").modal("hide");
    }
    function CalculateSTO() {
        debugger;
        var StuffingDate = $('#StuffingDate').val();
        var ContainerNo = $('#ContainerNo').val();
        var CFSCode = $('#CFSCode').val();
        var Size = $('#Size').val();
        var STOPartyId = $('#STOPartyId').val();

        $.ajax({
            url: '/Export/Loni_CWCExport/CalculateSTO',
            type: 'POST',
            data: {
                "StuffingDate": StuffingDate, "ArrayOfContainer": JSON.stringify(ArrayOfContainer), "STOPartyId": STOPartyId
            },
            success: function (data) {
                debugger;
                if (data != null || data != undefined) {
                    debugger;

                    $('#STOinvoicecargodtl').val(JSON.stringify(data.STOinvoicecargodtlLst));
                    $('#STOOperationCFSCodeWiseAmt').val(JSON.stringify(data.STOOperationCFSCodeWiseAmtLst));

                    $('#STOOperationId').val(data.STOOperationId);
                    $('#STOChargeType').val(data.STOChargeType);
                    $('#STOChargeName').val(data.STOChargeName);
                    $('#STOTaxable').val(data.STOTaxable);
                    $('#STOCharge').val(data.STOCharge);
                    $('#STOCGSTCharge').val(data.STOCGSTCharge);
                    $('#STOSGSTCharge').val(data.STOSGSTCharge);
                    $('#STOIGSTCharge').val(data.STOIGSTCharge);
                    $('#STOCGSTPer').val(data.STOCGSTPer);
                    $('#STOSGSTPer').val(data.STOSGSTPer);
                    $('#STOIGSTPer').val(data.STOIGSTPer);
                    $('#STOTotalAmount').val(data.STOTotalAmount);
                    $('#STOSACCode').val(data.STOSACCode);
                }
            }
        });
    }


    $('#HandalingPartySearch').on("click", function () {
        debugger;
        $.ajax({
            url: '@Url.Action("ListOfHandalingParty", "Loni_CWCExport", new { Area = "Export" })',
            dataType: 'JSON',
            type: 'GET',
            success: function (data) {
                debugger;

                var html = '';
                $.each(data, function (i, item) {
                    html += '<li id="' + item.HandalingPartyId + '" " onclick="GetHandalingParty(this)">' + item.HandalingPartyCode + '</li>';
                });
                $('#lstHandalingParty').html(html);
            }
        });

    });
    function GetHandalingParty(elem) {
        $('#HandalingPartyCode').val($(elem).text());
        $('#HandalingPartyId').val($(elem).attr('id'))
        CalculateHandaling();
        $("#HandalingPartyModal").modal("hide");
    }
    function CalculateHandaling() {
        debugger;
        var StuffingDate = $('#StuffingDate').val();
        var HandalingPartyId = $('#HandalingPartyId').val();
        var TMode = "";
        if ($('#TransportMode') == "1") {
       
            TMode = "Train";
            //document.getElementById("Road").checked = true;
        }
        else {
            TMode = "Road";
            //document.getElementById("Train").checked = true;
        }


        if(document.getElementById("Road").checked)
        {
            TMode = "Road";
        }
        else
        {
            TMode = "Train";
        }
      
        var Orig = $('#ContOrigin').val();
        var Via = $('#ContVia').val();
        $.ajax({
            url: '/Export/Loni_CWCExport/CalculateHandaling',
            type: 'POST',
            data: {
                "StuffingDate": StuffingDate,"TMode":TMode,"Origin":Orig,"Via":Via, "ArrayOfContainer": JSON.stringify(ArrayOfContainer), "HandalingPartyId": HandalingPartyId
            },
            success: function (data) {
                debugger;
                if (data != null || data != undefined) {
                    debugger;
                    //HNDOperationCFSCodeWiseAmtLst = data.HNDOperationCFSCodeWiseAmtLst;
                    $('#HNDOperationCFSCodeWiseAmt').val(JSON.stringify(data.HNDOperationCFSCodeWiseAmtLst));

                    $('#HandalingOperationId').val(data.HandalingOperationId);
                    $('#HandalingChargeType').val(data.HandalingChargeType);
                    $('#HandalingChargeName').val(data.HandalingChargeName);
                    $('#HandalingTaxable').val(data.HandalingTaxable);
                    $('#HandalingCharge').val(data.HandalingCharge);
                    $('#HandalingCGSTCharge').val(data.HandalingCGSTCharge);
                    $('#HandalingSGSTCharge').val(data.HandalingSGSTCharge);
                    $('#HandalingIGSTCharge').val(data.HandalingIGSTCharge);
                    $('#HandalingCGSTPer').val(data.HandalingCGSTPer);
                    $('#HandalingSGSTPer').val(data.HandalingSGSTPer);
                    $('#HandalingIGSTPer').val(data.HandalingIGSTPer);
                    $('#HandalingTotalAmount').val(data.HandalingTotalAmount);
                    $('#HandalingSACCode').val(data.HandalingSACCode);
                }
            }
        });
    }

    $('#GENSPPartySearch').on("click", function () {
        debugger;
        $.ajax({
            url: '@Url.Action("ListOfGENSPParty", "Loni_CWCExport", new { Area = "Export" })',
            dataType: 'JSON',
            type: 'GET',
            success: function (data) {
                debugger;

                var html = '';
                $.each(data, function (i, item) {
                    html += '<li id="' + item.GENSPPartyId + '" " onclick="GetGENSPParty(this)">' + item.GENSPPartyCode + '</li>';
                });
                $('#lstGENSPParty').html(html);
            }
        });

    });
    function GetGENSPParty(elem) {
        $('#GENSPPartyCode').val($(elem).text());
        $('#GENSPPartyId').val($(elem).attr('id'))
        CalculateGENSP();
        $("#GENSPPartyModal").modal("hide");
    }
    function CalculateGENSP() {
        debugger;
        var StuffingDate = $('#StuffingDate').val();
        var GENSPPartyId = $('#GENSPPartyId').val();

        $.ajax({
            url: '/Export/Loni_CWCExport/CalculateGENSP',
            type: 'POST',
            data: {
                "StuffingDate": StuffingDate, "ArrayOfContainer": JSON.stringify(ArrayOfContainer), "GENSPPartyId": GENSPPartyId
            },
            success: function (data) {
                debugger;
                if (data != null || data != undefined) {
                    debugger;
                    //HNDOperationCFSCodeWiseAmtLst = data.HNDOperationCFSCodeWiseAmtLst;
                    $('#GENSPOperationCFSCodeWiseAmt').val(JSON.stringify(data.GENSPOperationCFSCodeWiseAmtLst));

                    $('#GENSPOperationId').val(data.GENSPOperationId);
                    $('#GENSPChargeType').val(data.GENSPChargeType);
                    $('#GENSPChargeName').val(data.GENSPChargeName);
                    $('#GENSPTaxable').val(data.GENSPTaxable);
                    $('#GENSPCharge').val(data.GENSPCharge);
                    $('#GENSPCGSTCharge').val(data.GENSPCGSTCharge);
                    $('#GENSPSGSTCharge').val(data.GENSPSGSTCharge);
                    $('#GENSPIGSTCharge').val(data.GENSPIGSTCharge);
                    $('#GENSPCGSTPer').val(data.GENSPCGSTPer);
                    $('#GENSPSGSTPer').val(data.GENSPSGSTPer);
                    $('#GENSPIGSTPer').val(data.GENSPIGSTPer);
                    $('#GENSPTotalAmount').val(data.GENSPTotalAmount);
                    $('#GENSPSACCode').val(data.GENSPSACCode);
                    $("#GENSPPartyModal").modal("hide");
                }
            }
        });
    }

</script>