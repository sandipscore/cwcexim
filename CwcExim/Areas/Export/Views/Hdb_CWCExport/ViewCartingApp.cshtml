@model CwcExim.Areas.Export.Models.Hdb_CartingApplication
<div class="container-fluid">
    <div class="row">
        <div class="col-md-offset-0-5 col-md-11">
            <div class="Head_h4">
                <div class="row">
                    <div class="col-md-12">
                        <h4>Carting Application</h4>
                    </div>
                </div>
                <div class="row Form_Space_top">
                    <div class="form-group Form_Input">
                        <div class="col-md-1-5 col_cus_2">
                            @Html.Label("Type Of Work", new { @class = "InputLabel" })<span class="LabelColon">:</span>
                        </div>
                        <div class="col-md-2 col_cus_2_5">
                            @Html.Label("Carting", new { @class = "InputLabel" })
                        </div>
                    </div>
                </div>
                <div class="row Form_Space_top">
                    <div class="form-group Form_Input">
                        <div class="col-md-1-5 col_cus_2 padding_rt">
                            <label>Application No:</label>
                        </div>
                        <div class="col-md-2-5">
                            @Html.TextBoxFor(m => m.ApplicationNo, new { @class = "form-control input_sm", @readonly = true })
                        </div>
                        <div class="col-md-2 col-md-offset-4 col_cus_offset_3 col_cus_2 padding_rt">
                            <label>Application Date:</label>
                        </div>
                        <div class="col-md-2 col_cus_2_5 Date_Img">
                            @Html.TextBoxFor(m => m.ApplicationDate, new { @class = "form-control input_sm", @readonly = true })
                        </div>
                    </div>
                </div>
                <div class="row Form_Space_top">
                    <div class="form-group Form_Input">
                        <div class="col-md-1-5 col_cus_2">
                            @Html.LabelFor(m => m.CHAName, new { @class = "InputLabel" })<span class="LabelColon">:</span>
                        </div>
                        <div class="col-md-10-5 col_cus_10">
                            @Html.TextBoxFor(m => m.CHAName, new { @class = "form-control input_sm", @readonly = true })
                        </div>
                    </div>
                </div>
         
                <div class="row Form_Space_top">
                    <div class="form-group Form_Input">
                        <div class="col-md-1-5 col_cus_2 padding_rt">
                            <label>Vehicle No:</label>
                        </div>
                        <div class="col-md-2-5">
                            @Html.TextBoxFor(m => m.VehicleNo, new { @class = "form-control input_sm", @readonly = true })
                            @Html.ValidationMessageFor(m => m.VehicleNo, "", new { @class = "Error_Msg" })
                        </div>
                        <div class="col-md-2-5 col-md-offset-3 col_cus_offset_3 col_cus_2">
                            <label>Consolidator/Forwarder Name:</label>
                        </div>
                        <div class="col-md-2-5">
                            @if (Model.ForwarderId == 0)
                            {
                                @*@Html.DropDownListFor(m => m.CHAEximTraderId, new SelectList(Model.lstCHANames, "CHAEximTraderId", "CHAName"), "----Select----", new { @class = "form-control input-sm dropdown" })*@
                                @Html.HiddenFor(m => m.ForwarderId)
                                @Html.TextAreaFor(m => m.ForwarderName, new { @class = "form-control input_sm", @readonly = true })
                                <span class="search" id="TSAForwarderSearch"><i class="fa fa-search" aria-hidden="true" data-toggle="modal" data-target="#TSAForwarderModal"></i></span>
                                @Html.ValidationMessageFor(m => m.ForwarderName, "", new { @class = "Error_Msg" })
                            }
                            else
                            {
                                @Html.HiddenFor(m => m.ForwarderId)
                                @Html.TextAreaFor(m => m.ForwarderName, new { @class = "form-control input_sm", @readonly = true })
                                @Html.ValidationMessageFor(m => m.ForwarderName, "", new { @class = "Error_Msg" })
                            }
                            </div>
                        </div>
                </div>

                <div class="row Form_Space_top Form_Space_bottom">
                    <div class="form-group Form_Input">
                        <div class="col-md-1-5 col_cus_2">
                            @Html.LabelFor(m => m.Remarks, new { @class = "InputLabel" })<span class="LabelColon">:</span>
                        </div>
                        <div class="col-md-10-5 col_cus_10">
                            @Html.TextBoxFor(m => m.Remarks, new { @class = "form-control input_sm", @readonly = true, @style = "width:100%;height:100px;" })
                        </div>
                    </div>
                </div>
                <div id="DivShipping" style="display:none;" class="brdr_sec">
                    <div class="row Form_Space_top">
                        <div class="form-group Form_Input">
                            <div class="col-md-1-5 col_cus_2 padding_rt">
                                @Html.Label("Shipping Bill No:", new { @class = "InputLabel" })
                            </div>
                            <div class="col-md-2-5">
                                @Html.TextBox("ShippingBillNo", "", new { @class = "form-control input-sm", @readonly = true })
                            </div>
                            <div class="col-md-2 col_cus_2 col_cus_offset_3 col-md-offset-4">
                                @Html.Label("Shipping Bill Date:", new { @class = "InputLabel" })
                            </div>
                            <div class="col-md-2 col_cus_2_5 Date_Img">
                                @Html.TextBox("ShippingBillDate", Model.ApplicationDate, new { @class = "form-control input-sm", @readonly = true })
                            </div>
                        </div>
                    </div>
                    <div class="row Form_Space_top">
                        <div class="form-group Form_Input">
                            <div class="col-md-1-5 col_cus_2">
                                @Html.Label("Comm Inv No:", new { @class = "InputLabel" })
                            </div>
                            <div class="col-md-2-5">
                                @Html.TextBox("CommInvNo", "", new { @class = "form-control input-sm", @readonly = true })
                            </div>

                            <div class="col-md-1 col_cus_1_5">
                                <div class="boolean-container">
                                    @Html.CheckBox("IsSEZ")
                                    <label for="IsSEZ"><i class="square"></i><span>SEZ</span></label>
                                </div>
                            </div>

                            <div class="col-md-2 col-md-offset-3 col_cus_offset_3 col_cus_2">
                                @Html.Label("Comm Inv Date:", new { @class = "InputLabel" })
                            </div>
                            <div class="col-md-2 col_cus_2_5 Date_Img">
                                @Html.TextBox("CommInvDate", "", new { @class = "form-control input-sm", @readonly = true })
                            </div>
                        </div>
                    </div>
                    <div class="row Form_Space_top">
                        <div class="form-group Form_Input">
                            <div class="col-md-1-5 col_cus_2">
                                @Html.Label("Packing List No:", new { @class = "InputLabel" })
                            </div>
                            <div class="col-md-2-5">
                                @Html.TextBox("PackingListNo", "", new { @class = "form-control input-sm", @readonly = true })
                            </div>
                            <div class="col-md-2 col-md-offset-4 col_cus_offset_3 col_cus_2">
                                @Html.Label("Packing List Date:", new { @class = "InputLabel" })
                            </div>
                            <div class="col-md-2 col_cus_2_5 Date_Img">
                                @Html.TextBox("PackingListDate", "", new { @class = "form-control input-sm", @readonly = true })
                            </div>
                        </div>
                    </div>
                    <div class="row Form_Space_top">
                        <div class="form-group Form_Input">
                            <div class="col-md-1-5 col_cus_2">
                                @Html.Label("Custom House Code:", new { @class = "InputLabel" })
                            </div>
                            <div class="col-md-2-5">
                                @Html.TextBox("CustomHouseCode", "", new { @class = "form-control input-sm", @readonly = true })
                            </div>
                            <div class="col-md-2 col-md-offset-4 col_cus_offset_3 col_cus_2">
                                @Html.Label("IEC Code:", new { @class = "InputLabel" })
                            </div>
                            <div class="col-md-2 col_cus_2_5 Date_Img">
                                @Html.TextBox("IECCode", "", new { @class = "form-control input-sm", @readonly = true })
                            </div>
                        </div>
                    </div>
                    <div class="row Form_Space_top">
                        <div class="form-group Form_Input">
                            <div class="col-md-1-5 col_cus_2">
                                @Html.Label("GST No:", new { @class = "InputLabel" })
                            </div>
                            <div class="col-md-2-5">
                                @Html.TextBox("GSTNo", "", new { @class = "form-control input-sm", @readonly = true })
                            </div>
                            <div class="col-md-2 col-md-offset-4 col_cus_offset_3 col_cus_2">
                                @Html.Label("Port Of Destination:", new { @class = "InputLabel" })
                            </div>
                            <div class="col-md-2 col_cus_2_5 Date_Img">
                                @Html.TextBox("PortOfDestination", "", new { @class = "form-control input-sm", @readonly = true })
                            </div>
                        </div>
                    </div>
                    <div class="row Form_Space_top">
                        <div class="form-group Form_Input">
                            <div class="col-md-1-5 col_cus_2">
                                @Html.Label("Exporter:", new { @class = "InputLabel" })
                            </div>
                            <div class="col-md-10-5 col_cus_10">
                                @Html.TextBox("Exporter", "", new { @class = "form-control input-sm", @readonly = true })
                            </div>
                        </div>
                    </div>
                    <div class="row Form_Space_top">
                        <div class="form-group Form_Input">
                            <div class="col-md-1-5 col_cus_2">
                                @Html.Label("Cargo Description:", new { @class = "InputLabel" })
                            </div>
                            <div class="col-md-10-5 col_cus_10">
                                @Html.TextArea("CargoDescription", "", new { @class = "form-control input-sm", @style = "width:100%;height:100px;", @readonly = true })
                            </div>
                        </div>
                    </div>
                    <div class="row Form_Space_top">
                        <div class="form-group Form_Input">
                            <div class="col-md-1-5 col_cus_2">
                                @Html.Label("Commodity:", new { @class = "InputLabel" })
                            </div>
                            <div class="col-md-10-5 col_cus_10">
                                @Html.TextBox("Commodity", "", new { @class = "form-control input-sm", @readonly = true })
                            </div>
                        </div>
                    </div>
                    <div class="row Form_Space_top">
                        <div class="form-group Form_Input">
                            <div class="col-md-1-5 col_cus_2">
                                @Html.Label("Cargo Type:", new { @class = "InputLabel" })
                            </div>
                            <div class="col-md-2-5">
                                @Html.TextBox("CargoType", "", new { @class = "form-control input-sm", @readonly = true })
                            </div>
                            <div class="col-md-1-5 col-md-offset-4 col_cus_offset_3 col_cus_2">
                                @Html.Label("Marks & No:", new { @class = "InputLabel" })
                            </div>
                            <div class="col-md-2-5">
                                @Html.TextBox("MarksAndNo", "", new { @class = "form-control input-sm", @readonly = true })
                            </div>
                        </div>
                    </div>
                    <div class="row Form_Space_top">
                        <div class="form-group Form_Input">
                            <div class="col-md-1-5 col_cus_2">
                                @Html.Label("No of Units:", new { @class = "InputLabel" })
                            </div>
                            <div class="col-md-2-5">
                                @Html.TextBox("NoOfUnits", "", new { @class = "form-control input-sm", @readonly = true })
                            </div>
                            <div class="col-md-1-5 col-md-offset-4 col_cus_offset_3 col_cus_2">
                                @Html.Label("Weight:")
                            </div>
                            <div class="col-md-2-5">
                                @Html.TextBox("Weight", "", new { @class = "form-control input-sm", @readonly = true })
                            </div>
                        </div>
                    </div>
                    <div class="row Form_Space_top">
                        <div class="form-group Form_Input">
                            <div class="col-md-1-5 col_cus_2">
                                @Html.Label("FOB Value:", new { @class = "InputLabel" })
                            </div>
                            <div class="col-md-2-5">
                                @Html.TextBox("FobValue", "", new { @class = "form-control input-sm", @readonly = true })
                            </div>
                            <div class="col-md-1-5 col-md-offset-4 col_cus_offset_3 col_cus_2">
                                @Html.Label("PackageType:")
                            </div>
                            <div class="col-md-2-5">
                                @Html.DropDownListFor(m => m.PackageType, new List<SelectListItem>
                               {
                                            new SelectListItem { Text="Pallets",Value="Pallets"},
                                            new SelectListItem { Text="Carton",Value="Carton"},
                                            new SelectListItem { Text="Drums",Value="Drums"},
                                            new SelectListItem { Text="Bags",Value="Bags"},
                                            new SelectListItem { Text="Others",Value="Others"},
                                }, "----Select----", new { @class = "form-control input-sm", @onblur = "ClearValidationMsg(this)", @readonly = true, @disabled = true })
                            </div>
                            <div id="DivOthers" style="margin-top:5px;">
                                <div class="col-md-2-5">
                                    @Html.TextBox("OtherPkgType", "", new { @class = "form-control input-sm", @id = "OtherPkgType", @readonly = true })
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row Form_Space_top">
                        <div class="form-group Form_Input">
                            <div class="col-md-1-5 col_cus_2">
                                <label>SCMTR Package Type:</label>
                            </div>
                            <div class="col-md-2-5">
                                @Html.DropDownListFor(m => m.SCMTRPackageType, new List<SelectListItem>
                                       {
                                            new SelectListItem { Text="Package",Value="P"},
                                            new SelectListItem { Text="Liquid Bulk",Value="LB"},
                                            new SelectListItem { Text="Dry Bulk",Value="DB"}


                                       }, "", new { @readonly = true, @disabled = true })
                                @Html.ValidationMessageFor(m => m.SCMTRPackageType, "", new { @class = "Error_Msg" })
                            </div>
                            <div class="col-md-1-5 col-md-offset-4 col_cus_offset_3 col_cus_2">
                                <label>Pack UOM:</label>
                            </div>
                            <div class="col-md-2-5">
                                @Html.HiddenFor(m => m.PackUQCId)
                                @Html.HiddenFor(m => m.PackUQCCode)
                                @Html.TextBoxFor(m => m.PackUQCDescription, new { @class = "form-control input_sm", @readonly = true, tabindex = 18, onkeydown = "PopupActivate('PackUQCModal');" })
                                @Html.ValidationMessageFor(m => m.PackUQCDescription, "", new { @class = "Error_Msg" })
                                @*<span class="search" id="PackUQCSerach"><i class="fa fa-search" aria-hidden="true" data-toggle="modal" data-target="#PackUQCModal"></i></span>*@
                            </div>
                            <div class="clearfix"></div>
                        </div>
                    </div>
                        @* <div class="row Form_Space_top">
                <div class="form-group Form_Input">
                    <div class="col-md-1-5 col_cus_2">
                        <label>Reefer:</label>
                    </div>
                    <div class="col-md-2-5">
                        <div class="boolean-container">
                            @Html.CheckBox("IsReefer")
                            <label for="IsReefer"><i class="square"></i></label>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                </div>
            </div>*@
                    </div>
                    <div class="row Form_Space_top">
                        <div class="col-md-12">
                            <table id="tblShippingDet" class="table table-striped table-bordered dataTable" style="width:100%;">
                                <thead>
                                    <tr>
                                        <th class="text-center" style="width:8%;">SL No</th>
                                        <th>Shipping Bill No</th>
                                        <th style="width:15%;">Shipping Bill Date</th>
                                        <th>Exporter</th>
                                        <th>No of Units</th>
                                        <th class="text-center" style="width:10%;">View</th>
                                    </tr>
                                </thead>
                                <tbody> </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="row">
                        <div class="stoke SignUp_space_bottom SignUp_space_top"></div>
                    </div>
                    <div class="row">
                        <div class="col-md-offset-5 col-md-2  SignUp_space_bottom">
                            <input type="button" id="btnBack" class="btn log_Btn_sm" value="Back" onclick="LoadCartingApp()" />
                        </div>
                    </div>
                </div>
        </div>
    </div>
</div>
<script>
    var ArrayDet=[];
    $(function(){
        ArrayDet=@Html.Raw(Json.Encode(Model.lstShipping));
        var html='';
        $.each(ArrayDet,function(i,data)
        {
            html+='<tr><td class="text-center">'+(i+1)+'</td><td>'+data.ShippingBillNo+'</td><td>'+data.ShippingDate+'</td><td>'+data.Exporter+'</td><td>'+data.NoOfUnits+'</td><td class="text-center"><a href="#" onclick="ShowRecord('+i+')"><i class="fa fa-search-plus Edit"></i></a></td></tr>';
        });
        $('#tblShippingDet tbody').html(html);
    });
    function LoadCartingApp()
    {
        $('#DivBody').load( '/Export/Hdb_CWCExport/CreateCartingApplication');
    }
    function ResetShippingDet() {
        if ('@ViewData["IsExporter"]' == 'False')
            $('#ShippingBillNo,#ShippingDate,#CommInvNo,#CommInvDate,#PackingListNo,#PackingListDate,#Exporter,#ExporterId,#CargoDescription,#Commodity,#CommodityId,#MarksAndNo,#NoOfUnits,#Weight,#FobValue,#CargoType,#CustomHouseCode,#GSTNo,#IECCode,#PortOfDestination,#PackageType').val(''),
            $('#IsReefer,#IsSEZ').prop("checked", false);           
        else
            $('#ShippingBillNo,#ShippingDate,#CommInvNo,#CommInvDate,#PackingListNo,#PackingListDate,#CargoDescription,#Commodity,#CommodityId,#MarksAndNo,#NoOfUnits,#Weight,#FobValue,#CargoType,#CustomHouseCode,#GSTNo,#IECCode,#PortOfDestination,#PackageType,#IsReefer').val('');
            $('#IsReefer,#IsSEZ').prop("checked", false);             
    }

    function ShowRecord(k)
    {
        $('#ShippingBillNo').val(ArrayDet[k].ShippingBillNo);
        $('#ShippingBillDate').val(ArrayDet[k].ShippingDate);
        $('#CommInvNo').val(ArrayDet[k].CommInvcNo);
        $('#PackingListNo').val(ArrayDet[k].PackingListNo);
        $('#CommInvDate').val(ArrayDet[k].CommInvDate);
        $('#PackingListDate').val(ArrayDet[k].PackingListDate);
        $('#Exporter').val(ArrayDet[k].Exporter);
        $('#CargoDescription').val(ArrayDet[k].CargoDescription);
        $('#Commodity').val(ArrayDet[k].CommodityName);
        $('#MarksAndNo').val($("<textarea/>").html(ArrayDet[k].MarksAndNo).text());        
        $('#NoOfUnits').val(ArrayDet[k].NoOfUnits);
        $('#Weight').val(ArrayDet[k].Weight);
        $('#FobValue').val(ArrayDet[k].FoBValue);
        $('#CustomHouseCode').val(ArrayDet[k].CustomHouseCode);
        $('#IECCode').val(ArrayDet[k].IECCode);
        $('#GSTNo').val(ArrayDet[k].GSTNo);
        $('#PortOfDestination').val(ArrayDet[k].PortOfDestination);
        $('#PackageType').val(ArrayDet[k].PackageType);
        $('#OtherPkgType').val(ArrayDet[k].OtherPkgType);
        $('#SCMTRPackageType').val(ArrayDet[k].SCMTRPackageType);
        $('#PackUQCCode').val(ArrayDet[k].PackUQCCode);
        $('#PackUQCDescription').val(ArrayDet[k].PackUQCDescription);
        debugger;
        if(ArrayDet[k].PackageType!='Others')
        {
            $('#OtherPkgType').hide();
        }
        else
        {
            $('#OtherPkgType').show();
        }

        $('#IsReefer').prop("checked", ArrayDet[k].IsReefer);
        $('#IsSEZ').prop("checked", ArrayDet[k].IsSEZ);
        if(ArrayDet[k].CargoType==1) $('#CargoType').val('HAZ');
        else $('#CargoType').val('Non HAZ');
        $('#DivShipping').css("display","block");
    }

</script>

