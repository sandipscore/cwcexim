@model CwcExim.Areas.Export.Models.PPG_StuffingRequest
<div class="container-fluid">
    <div class="row">
        <div class="col-md-offset-0-5 col-md-11">
            <div class="Head_h4">
                <div class="row ">
                    <div class="col-md-12">
                        <h4>Stuffing Request</h4>
                    </div>
                </div>
                <div class="row Form_Space_top">
                    <div class="form-group Form_Input">
                        <div class="col-md-1-5 col_cus_2">
                            <label>Request No:</label>
                        </div>
                        <div class="col-md-2-5">
                            @Html.TextBoxFor(m => m.StuffingReqNo, new { @class = "form-control input-sm", @readonly = true })
                        </div>
                        <div class="col-md-1-5 col-md-offset-4 col_cus_offset_3 col_cus_2">
                            <label>Request Date:</label>
                        </div>
                        <div class="col-md-2 col_cus_2_5">
                            @Html.TextBoxFor(m => m.RequestDate, new { @class = "form-control input-sm", @readonly = true })
                        </div>
                    </div>
                </div>
                <div class="row Form_Space_top" style="display:none">
                    <div class="form-group Form_Input">
                        <div class="col-md-1-5 col_cus_2" style="padding-right:0px">
                            @Html.LabelFor(m => m.CHA, new { @class = "InputLabel" })<span class="LabelColon">:</span>
                        </div>
                        <div class="col-md-10-5 col_cus_10">
                            @Html.TextBoxFor(m => m.CHA, new { @class = "form-control input-sm", @readonly = true })
                        </div>
                    </div>
                </div>
                <div class="row Form_Space_top">
                    <div class="form-group Form_Input">
                        <div class="col-md-1-5 col_cus_2">
                            @Html.LabelFor(m => m.ShippingHdrLine, new { @class = "InputLabel" })<span class="LabelColon">:</span>
                        </div>
                        <div class="col-md-10-5 col_cus_10">
                            <span class="ReQSimbol"></span>
                            @Html.TextBoxFor(m => m.ShippingHdrLine, new { @class = "form-control input-sm", @readonly = "readonly" })
                            @Html.HiddenFor(m => m.ShippingHdrLineId)
                        </div>
                    </div>
                </div>
                <div class="row Form_Space_top">
                    <div class="form-group Form_Input">
                        <div class="col-md-1-5 col_cus_2">
                            @Html.LabelFor(m => m.Forwarder, new { @class = "InputLabel" })<span class="LabelColon">:</span>
                        </div>
                        <div class="col-md-10-5 col_cus_10">
                            <span class="ReQSimbol"></span>
                            @Html.TextBoxFor(m => m.Forwarder, new { @class = "form-control input-sm", @readonly = "readonly" })
                            @Html.HiddenFor(m => m.ForwarderId)
                        </div>
                    </div>
                </div>
                <div class="row Form_Space_top">
                    <div class="form-group Form_Input">
                        <div class="col-md-1-5 col_cus_2">
                            @Html.LabelFor(m => m.Remarks, new { @class = "InputLabel" })<span class="LabelColon">:</span>
                        </div>
                        <div class="col-md-10-5 col_cus_10">
                            @Html.TextBoxFor(m => m.Remarks, new { @style = "width:100%;", @readonly = true })
                        </div>
                    </div>
                </div>
                <div class="row Form_Space_top">
                    <div class="form-group Form_Input">
                        <div class="col-md-1-5 col_cus_2">
                            <label>Stuffing Type:</label>
                        </div>
                        <div class="col-md-1 padding_rt">
                            <div class="boolean-container">
                                @Html.RadioButtonFor(m => m.StuffingType, "FCL", new { @class = "", @id = "FCL", @disabled = true })
                                <label for="FCL"><i class="circle"></i><span>FCL</span></label>
                            </div>
                        </div>
                        <div class="col-md-1 padding_rt">
                            <div class="boolean-container">
                                @Html.RadioButtonFor(m => m.StuffingType, "LCL", new { @class = "", @id = "LCL", @disabled = true })
                                <label for="LCL"><i class="circle"></i><span>LCL</span></label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="Head_h5">
                    <div class="row">
                        <div class="col-md-12">
                            <h5>Stuffing Details</h5>
                        </div>
                    </div>
                    <div id="DivCartingDetails">
                        <div class="row">
                            <div class="col-md-12" style="padding-top: 4px;">
                                <table id="TblCartingDet" class="table table-striped table-bordered dataTable" style="width:100%;">
                                    <thead>
                                        <tr>
                                            <th style="width:5px;">#</th>
                                            <th style="width:120px;">Carting No</th>
                                            <th style="width:50px;">SB No</th>
                                            <th style="width:50px;">SB Dt</th>
                                            <th style="width:80px;">Exporter</th>
                                            <th style="width:80px;">CHA</th>
                                            <th style="width:100px;">Cargo Desc</th>
                                            <th style="width:50px;">Cargo Type</th>
                                            <th style="width:50px;">No Of Units</th>
                                            <th style="width:50px;">Gross Wt</th>
                                            <th style="width:50px;">FOB</th>
                                            <th style="width:50px;">Pack UQC</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @{int serial = 1;
                                            foreach (var item in Model.LstStuffing)
                                            {
                                                <tr>
                                                    <td>@serial</td>
                                                    <td>@item.CartingRegisterNo</td>
                                                    <td>@item.ShippingBillNo</td>
                                                    <td>@item.ShippingDate</td>
                                                    <td>@item.Exporter</td>
                                                    <td>@item.CHA</td>
                                                    <td>@item.CargoDescription</td>
                                                    @if (item.CargoType == 1)
                                                    {
                                                        <td>HAZ</td>
                                                    }
                                                    else
                                                    {
                                                        <td>NON HAZ</td>
                                                    }
                                                    <td>@item.NoOfUnits</td>
                                                    <td>@item.GrossWeight</td>
                                                    <td>@item.Fob</td>
                                                    <td>@item.PackUQCDescription</td>
                                                </tr>
                                                serial++;
                                            }
                                        }
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="row">
                            <div class="stoke SignUp_space_bottom SignUp_space_top"></div>
                        </div>
                        <div class="row Form_Space_top">
                            <div class="form-group Form_Input">
                                <div class="col-md-1-5 col_cus_2 padding_rt">
                                    <label>Container / CBT No:</label>
                                </div>
                                <div class="col-md-2-5">
                                    @Html.TextBox("ContainerNo", "", new { @class = "form-control input-sm", @readonly = true })
                                </div>
                                <div class="col-md-1-5">
                                    <label>Shipping Bill:</label>
                                </div>
                                <div class="col-md-3-5 col_cus_3">
                                    @Html.TextBox("CommodityName", "", new { @class = "form-control input-sm dropdown", @readonly = true })
                                </div>
                                <div class="col-md-1">
                                    <label>Size:</label>
                                </div>
                                <div class="col-md-2">
                                    @Html.TextBox("Size", "", new { @readonly = true })
                                </div>
                            </div>
                        </div>
                        <div class="row Form_Space_top">
                            <div class="form-group Form_Input">
                                <div class="col-md-1-5 col_cus_2 padding_rt">
                                    <label>Shipping Line:</label>
                                </div>
                                <div class="col-md-10-5 col_cus_10">
                                    @Html.TextBox("ShippingLine", "", new { @class = "form-control input-sm", @readonly = true })
                                </div>
                            </div>
                        </div>
                        <div class="row Form_Space_top">
                            <div class="form-group Form_Input">
                                <div class="col-md-1-5 col_cus_2">
                                    <label>Stuffing Qty:</label>
                                </div>
                                <div class="col-md-2-5">
                                    @Html.TextBox("StuffQuantity", "", new { @class = "form-control input-sm", @readonly = true })
                                </div>
                                <div class="col-md-1-5 col-md-offset-4 col_cus_offset_3 col_cus_2">
                                    <label>Stuffing Weight (Kg):</label>
                                </div>
                                <div class="col-md-2-5">
                                    @Html.TextBox("StuffWeight", "", new { @class = "form-control input-sm", @readonly = true })
                                </div>
                            </div>
                        </div>
                        <div class="row Form_Space_top">
                            <div class="col-md-12">
                                <table id="TblStuffingContr" class="table table-striped table-bordered dataTable nowrap" style="width:100%">
                                    <thead>
                                        <tr>
                                            <th class="text-center" style="width:8%;">Sl No</th>
                                            <th>Container / CBT No</th>
                                            <th>Size</th>
                                            <th>Commodity</th>
                                            <th>Stuffing Qty</th>
                                            <th class="text-center" style="width:10%;">View</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="stoke SignUp_space_bottom SignUp_space_top"></div>
                </div>
                <div class="row SignUp_space_bottom2">
                    <div class="col-md-offset-5 col-md-2" style="text-align:center">
                        <input type="button" value="Back" class="btn log_Btn_sm" id="btnBack" />
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    var ContainerDet = [];
    $(function () 
    {
        ContainerDet=@Html.Raw(Json.Encode(Model.LstStuffingContainer));
        GenerateContrTable();
    });
    $('#btnBack').on("click",function()
    {
        $('#DivBody').load( '/Export/Loni_CWCExportV2/CreateStuffingRequest');
    });
    function GenerateContrTable() {
        var html = '';
        if (ContainerDet.length!=0)
        {
            $.each(ContainerDet, function (i, elem) {
                html += '<tr><td class="text-center">' + (i + 1) + '</td><td>' + elem.ContainerNo + '</td><td>' + elem.Size + '</td><td>' + elem.CommodityName + '</td><td>' + elem.StuffQuantity + '</td><td class="text-center"><a href="#" onclick="ViewContainerDet(' + i + ')"><i class="fa fa-search-plus Edit"></i></a></td></tr>';
            });
            $('#TblStuffingContr > tbody').html('');
            $('#TblStuffingContr > tbody').html(html);
            $('#TblStuffingContr').show();
        }
        else {
            $('#TblStuffingContr').hide();
        }

    }
    function ViewContainerDet(idx)
    {
        $('#CommodityName').val(ContainerDet[idx].CommodityName);
        $('#ContainerNo').val(ContainerDet[idx].ContainerNo);
        $('#Size').val(ContainerDet[idx].Size);
        $('#ShippingLine').val(ContainerDet[idx].ShippingLine);
        $('#StuffQuantity').val(ContainerDet[idx].StuffQuantity);
        $('#StuffWeight').val(ContainerDet[idx].StuffWeight);
    }
</script>